{"mappings":"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","sources":["node_modules/svg-to-pdfkit/source.js"],"sourcesContent":["var SVGtoPDF = function(doc, svg, x, y, options) {\r\n    \"use strict\";\r\n\r\n    const NamedColors = {aliceblue: [240,248,255], antiquewhite: [250,235,215], aqua: [0,255,255], aquamarine: [127,255,212], azure: [240,255,255], beige: [245,245,220], bisque: [255,228,196], black: [0,0,0], blanchedalmond: [255,235,205], blue: [0,0,255], blueviolet: [138,43,226], brown: [165,42,42], burlywood: [222,184,135], cadetblue: [95,158,160], chartreuse: [127,255,0],\r\n      chocolate: [210,105,30], coral: [255,127,80], cornflowerblue: [100,149,237], cornsilk: [255,248,220], crimson: [220,20,60], cyan: [0,255,255], darkblue: [0,0,139], darkcyan: [0,139,139], darkgoldenrod: [184,134,11], darkgray: [169,169,169], darkgrey: [169,169,169], darkgreen: [0,100,0], darkkhaki: [189,183,107], darkmagenta: [139,0,139], darkolivegreen: [85,107,47],\r\n      darkorange: [255,140,0], darkorchid: [153,50,204], darkred: [139,0,0], darksalmon: [233,150,122], darkseagreen: [143,188,143], darkslateblue: [72,61,139], darkslategray: [47,79,79], darkslategrey: [47,79,79], darkturquoise: [0,206,209], darkviolet: [148,0,211], deeppink: [255,20,147], deepskyblue: [0,191,255], dimgray: [105,105,105], dimgrey: [105,105,105],\r\n      dodgerblue: [30,144,255], firebrick: [178,34,34], floralwhite: [255,250,240], forestgreen: [34,139,34], fuchsia: [255,0,255], gainsboro: [220,220,220], ghostwhite: [248,248,255], gold: [255,215,0], goldenrod: [218,165,32], gray: [128,128,128], grey: [128,128,128], green: [0,128,0], greenyellow: [173,255,47], honeydew: [240,255,240], hotpink: [255,105,180],\r\n      indianred: [205,92,92], indigo: [75,0,130], ivory: [255,255,240], khaki: [240,230,140], lavender: [230,230,250], lavenderblush: [255,240,245], lawngreen: [124,252,0], lemonchiffon: [255,250,205], lightblue: [173,216,230], lightcoral: [240,128,128], lightcyan: [224,255,255], lightgoldenrodyellow: [250,250,210], lightgray: [211,211,211], lightgrey: [211,211,211],\r\n      lightgreen: [144,238,144], lightpink: [255,182,193], lightsalmon: [255,160,122], lightseagreen: [32,178,170], lightskyblue: [135,206,250], lightslategray: [119,136,153], lightslategrey: [119,136,153], lightsteelblue: [176,196,222], lightyellow: [255,255,224], lime: [0,255,0], limegreen: [50,205,50], linen: [250,240,230], magenta: [255,0,255], maroon: [128,0,0],\r\n      mediumaquamarine: [102,205,170], mediumblue: [0,0,205], mediumorchid: [186,85,211], mediumpurple: [147,112,219], mediumseagreen: [60,179,113], mediumslateblue: [123,104,238], mediumspringgreen: [0,250,154], mediumturquoise: [72,209,204], mediumvioletred: [199,21,133], midnightblue: [25,25,112], mintcream: [245,255,250], mistyrose: [255,228,225], moccasin: [255,228,181],\r\n      navajowhite: [255,222,173], navy: [0,0,128], oldlace: [253,245,230], olive: [128,128,0], olivedrab: [107,142,35], orange: [255,165,0], orangered: [255,69,0], orchid: [218,112,214], palegoldenrod: [238,232,170], palegreen: [152,251,152], paleturquoise: [175,238,238], palevioletred: [219,112,147], papayawhip: [255,239,213], peachpuff: [255,218,185], peru: [205,133,63],\r\n      pink: [255,192,203], plum: [221,160,221], powderblue: [176,224,230], purple: [128,0,128], rebeccapurple: [102,51,153], red: [255,0,0], rosybrown: [188,143,143], royalblue: [65,105,225], saddlebrown: [139,69,19], salmon: [250,128,114], sandybrown: [244,164,96], seagreen: [46,139,87], seashell: [255,245,238], sienna: [160,82,45], silver: [192,192,192], skyblue: [135,206,235],\r\n      slateblue: [106,90,205], slategray: [112,128,144], slategrey: [112,128,144], snow: [255,250,250], springgreen: [0,255,127], steelblue: [70,130,180], tan: [210,180,140], teal: [0,128,128], thistle: [216,191,216], tomato: [255,99,71], turquoise: [64,224,208], violet: [238,130,238], wheat: [245,222,179], white: [255,255,255], whitesmoke: [245,245,245], yellow: [255,255,0]};\r\n    const DefaultColors = {black: [NamedColors.black, 1], white: [NamedColors.white, 1], transparent: [NamedColors.black, 0]};\r\n    const Entities = {quot: 34, amp: 38, lt: 60, gt: 62, apos: 39, OElig: 338, oelig: 339, Scaron: 352, scaron: 353, Yuml: 376, circ: 710, tilde: 732, ensp: 8194, emsp: 8195, thinsp: 8201, zwnj: 8204, zwj: 8205, lrm: 8206, rlm: 8207, ndash: 8211, mdash: 8212, lsquo: 8216, rsquo: 8217, sbquo: 8218, ldquo: 8220, rdquo: 8221, bdquo: 8222, dagger: 8224, Dagger: 8225, permil: 8240, lsaquo: 8249,\r\n      rsaquo: 8250, euro: 8364, nbsp: 160, iexcl: 161, cent: 162, pound: 163, curren: 164, yen: 165, brvbar: 166, sect: 167, uml: 168, copy: 169, ordf: 170, laquo: 171, not: 172, shy: 173, reg: 174, macr: 175, deg: 176, plusmn: 177, sup2: 178, sup3: 179, acute: 180, micro: 181, para: 182, middot: 183, cedil: 184, sup1: 185, ordm: 186, raquo: 187, frac14: 188, frac12: 189, frac34: 190,\r\n      iquest: 191, Agrave: 192, Aacute: 193, Acirc: 194, Atilde: 195, Auml: 196, Aring: 197, AElig: 198, Ccedil: 199, Egrave: 200, Eacute: 201, Ecirc: 202, Euml: 203, Igrave: 204, Iacute: 205, Icirc: 206, Iuml: 207, ETH: 208, Ntilde: 209, Ograve: 210, Oacute: 211, Ocirc: 212, Otilde: 213, Ouml: 214, times: 215, Oslash: 216, Ugrave: 217, Uacute: 218, Ucirc: 219, Uuml: 220, Yacute: 221,\r\n      THORN: 222, szlig: 223, agrave: 224, aacute: 225, acirc: 226, atilde: 227, auml: 228, aring: 229, aelig: 230, ccedil: 231, egrave: 232, eacute: 233, ecirc: 234, euml: 235, igrave: 236, iacute: 237, icirc: 238, iuml: 239, eth: 240, ntilde: 241, ograve: 242, oacute: 243, ocirc: 244, otilde: 245, ouml: 246, divide: 247, oslash: 248, ugrave: 249, uacute: 250, ucirc: 251, uuml: 252,\r\n      yacute: 253, thorn: 254, yuml: 255, fnof: 402, Alpha: 913, Beta: 914, Gamma: 915, Delta: 916, Epsilon: 917, Zeta: 918, Eta: 919, Theta: 920, Iota: 921, Kappa: 922, Lambda: 923, Mu: 924, Nu: 925, Xi: 926, Omicron: 927, Pi: 928, Rho: 929, Sigma: 931, Tau: 932, Upsilon: 933, Phi: 934, Chi: 935, Psi: 936, Omega: 937, alpha: 945, beta: 946, gamma: 947, delta: 948, epsilon: 949,\r\n      zeta: 950, eta: 951, theta: 952, iota: 953, kappa: 954, lambda: 955, mu: 956, nu: 957, xi: 958, omicron: 959, pi: 960, rho: 961, sigmaf: 962, sigma: 963, tau: 964, upsilon: 965, phi: 966, chi: 967, psi: 968, omega: 969, thetasym: 977, upsih: 978, piv: 982, bull: 8226, hellip: 8230, prime: 8242, Prime: 8243, oline: 8254, frasl: 8260, weierp: 8472, image: 8465, real: 8476,\r\n      trade: 8482, alefsym: 8501, larr: 8592, uarr: 8593, rarr: 8594, darr: 8595, harr: 8596, crarr: 8629, lArr: 8656, uArr: 8657, rArr: 8658, dArr: 8659, hArr: 8660, forall: 8704, part: 8706, exist: 8707, empty: 8709, nabla: 8711, isin: 8712, notin: 8713, ni: 8715, prod: 8719, sum: 8721, minus: 8722, lowast: 8727, radic: 8730, prop: 8733, infin: 8734, ang: 8736, and: 8743, or: 8744,\r\n      cap: 8745, cup: 8746, int: 8747, there4: 8756, sim: 8764, cong: 8773, asymp: 8776, ne: 8800, equiv: 8801, le: 8804, ge: 8805, sub: 8834, sup: 8835, nsub: 8836, sube: 8838, supe: 8839, oplus: 8853, otimes: 8855, perp: 8869, sdot: 8901, lceil: 8968, rceil: 8969, lfloor: 8970, rfloor: 8971, lang: 9001, rang: 9002, loz: 9674, spades: 9824, clubs: 9827, hearts: 9829, diams: 9830};\r\n    const PathArguments = {A: 7, a: 7, C: 6, c: 6, H: 1, h: 1, L: 2, l: 2, M: 2, m: 2, Q: 4, q: 4, S: 4, s: 4, T: 2, t: 2, V: 1, v: 1, Z: 0, z: 0};\r\n    const PathFlags = {A3: true, A4: true, a3: true, a4: true};\r\n    const Properties = {\r\n      'color':              {inherit: true, initial: undefined},\r\n      'visibility':         {inherit: true, initial: 'visible', values: {'hidden': 'hidden', 'collapse': 'hidden', 'visible':'visible'}},\r\n      'fill':               {inherit: true, initial: DefaultColors.black},\r\n      'stroke':             {inherit: true, initial: 'none'},\r\n      'stop-color':         {inherit: false, initial: DefaultColors.black},\r\n      'fill-opacity':       {inherit: true, initial: 1},\r\n      'stroke-opacity':     {inherit: true, initial: 1},\r\n      'stop-opacity':       {inherit: false, initial: 1},\r\n      'fill-rule':          {inherit: true, initial: 'nonzero', values: {'nonzero':'nonzero', 'evenodd':'evenodd'}},\r\n      'clip-rule':          {inherit: true, initial: 'nonzero', values: {'nonzero':'nonzero', 'evenodd':'evenodd'}},\r\n      'stroke-width':       {inherit: true, initial: 1},\r\n      'stroke-dasharray':   {inherit: true, initial: []},\r\n      'stroke-dashoffset':  {inherit: true, initial: 0},\r\n      'stroke-miterlimit':  {inherit: true, initial: 4},\r\n      'stroke-linejoin':    {inherit: true, initial: 'miter', values: {'miter':'miter', 'round':'round', 'bevel':'bevel'}},\r\n      'stroke-linecap':     {inherit: true, initial: 'butt', values: {'butt':'butt', 'round':'round', 'square':'square'}},\r\n      'font-size':          {inherit: true, initial: 16, values: {'xx-small':9, 'x-small':10, 'small':13, 'medium':16, 'large':18, 'x-large':24, 'xx-large':32}},\r\n      'font-family':        {inherit: true, initial: 'sans-serif'},\r\n      'font-weight':        {inherit: true, initial: 'normal', values: {'600':'bold', '700':'bold', '800':'bold', '900':'bold', 'bold':'bold', 'bolder':'bold', '500':'normal', '400':'normal', '300':'normal', '200':'normal', '100':'normal', 'normal':'normal', 'lighter':'normal'}},\r\n      'font-style':         {inherit: true, initial: 'normal', values: {'italic':'italic', 'oblique':'italic', 'normal':'normal'}},\r\n      'text-anchor':        {inherit: true, initial: 'start', values: {'start':'start', 'middle':'middle', 'end':'end'}},\r\n      'direction':          {inherit: true, initial: 'ltr', values: {'ltr':'ltr', 'rtl':'rtl'}},\r\n      'dominant-baseline':  {inherit: true, initial: 'baseline', values: {'auto':'baseline', 'baseline':'baseline', 'before-edge':'before-edge', 'text-before-edge':'before-edge', 'middle':'middle', 'central':'central', 'after-edge':'after-edge', 'text-after-edge':'after-edge', 'ideographic':'ideographic', 'alphabetic':'alphabetic', 'hanging':'hanging', 'mathematical':'mathematical'}},\r\n      'alignment-baseline': {inherit: false, initial: undefined, values: {'auto':'baseline', 'baseline':'baseline', 'before-edge':'before-edge', 'text-before-edge':'before-edge', 'middle':'middle', 'central':'central', 'after-edge':'after-edge', 'text-after-edge':'after-edge', 'ideographic':'ideographic', 'alphabetic':'alphabetic', 'hanging':'hanging', 'mathematical':'mathematical'}},\r\n      'baseline-shift':     {inherit: true, initial: 'baseline', values: {'baseline':'baseline', 'sub':'sub', 'super':'super'}},\r\n      'word-spacing':       {inherit: true, initial: 0, values: {normal:0}},\r\n      'letter-spacing':     {inherit: true, initial: 0, values: {normal:0}},\r\n      'text-decoration':    {inherit: false, initial: 'none', values: {'none':'none', 'underline':'underline', 'overline':'overline', 'line-through':'line-through'}},\r\n      'xml:space':          {inherit: true, initial: 'default', css: 'white-space', values: {'preserve':'preserve', 'default':'default', 'pre':'preserve', 'pre-line':'preserve', 'pre-wrap':'preserve', 'nowrap': 'default'}},\r\n      'marker-start':       {inherit: true, initial: 'none'},\r\n      'marker-mid':         {inherit: true, initial: 'none'},\r\n      'marker-end':         {inherit: true, initial: 'none'},\r\n      'opacity':            {inherit: false, initial: 1},\r\n      'transform':          {inherit: false, initial: [1, 0, 0, 1, 0, 0]},\r\n      'display':            {inherit: false, initial: 'inline', values: {'none':'none', 'inline':'inline', 'block':'inline'}},\r\n      'clip-path':          {inherit: false, initial: 'none'},\r\n      'mask':               {inherit: false, initial: 'none'},\r\n      'overflow':           {inherit: false, initial: 'hidden', values: {'hidden':'hidden', 'scroll':'hidden', 'visible':'visible'}}\r\n    };\r\n\r\n    function docBeginGroup(bbox) {\r\n      let group = new (function PDFGroup() {})();\r\n      group.name = 'G' + (doc._groupCount = (doc._groupCount || 0) + 1);\r\n      group.resources = doc.ref();\r\n      group.xobj = doc.ref({\r\n        Type: 'XObject',\r\n        Subtype: 'Form',\r\n        FormType: 1,\r\n        BBox: bbox,\r\n        Group: {S: 'Transparency', CS: 'DeviceRGB', I: true, K: false},\r\n        Resources: group.resources\r\n      });\r\n      group.xobj.write('');\r\n      group.savedMatrix = doc._ctm;\r\n      group.savedPage = doc.page;\r\n      groupStack.push(group);\r\n      doc._ctm = [1, 0, 0, 1, 0, 0];\r\n      doc.page = {\r\n        width: doc.page.width, height: doc.page.height,\r\n        write: function(data) {group.xobj.write(data);},\r\n        fonts: {}, xobjects: {}, ext_gstates: {}, patterns: {}\r\n      };\r\n      return group;\r\n    }\r\n    function docEndGroup(group) {\r\n      if (group !== groupStack.pop()) {throw('Group not matching');}\r\n      if (Object.keys(doc.page.fonts).length) {group.resources.data.Font = doc.page.fonts;}\r\n      if (Object.keys(doc.page.xobjects).length) {group.resources.data.XObject = doc.page.xobjects;}\r\n      if (Object.keys(doc.page.ext_gstates).length) {group.resources.data.ExtGState = doc.page.ext_gstates;}\r\n      if (Object.keys(doc.page.patterns).length) {group.resources.data.Pattern = doc.page.patterns;}\r\n      group.resources.end();\r\n      group.xobj.end();\r\n      doc._ctm = group.savedMatrix;\r\n      doc.page = group.savedPage;\r\n    }\r\n    function docInsertGroup(group) {\r\n      doc.page.xobjects[group.name] = group.xobj;\r\n      doc.addContent('/' + group.name + ' Do');\r\n    }\r\n    function docApplyMask(group, clip) {\r\n      let name = 'M' + (doc._maskCount = (doc._maskCount || 0) + 1);\r\n      let gstate = doc.ref({\r\n        Type: 'ExtGState', CA: 1, ca: 1, BM: 'Normal',\r\n        SMask: {S: 'Luminosity', G: group.xobj, BC: (clip ? [0, 0, 0] : [1, 1, 1])}\r\n      });\r\n      gstate.end();\r\n      doc.page.ext_gstates[name] = gstate;\r\n      doc.addContent('/' + name + ' gs');\r\n    }\r\n    function docCreatePattern(group, dx, dy, matrix) {\r\n      let pattern = new (function PDFPattern() {})();\r\n      pattern.group = group;\r\n      pattern.dx = dx;\r\n      pattern.dy = dy;\r\n      pattern.matrix = matrix || [1, 0, 0, 1, 0, 0];\r\n      return pattern;\r\n    }\r\n    function docUsePattern(pattern, stroke) {\r\n      let name = 'P' + (doc._patternCount = (doc._patternCount || 0) + 1);\r\n      let ref = doc.ref({\r\n        Type: 'Pattern', PatternType: 1, PaintType: 1, TilingType: 2,\r\n        BBox: [0, 0, pattern.dx, pattern.dy], XStep: pattern.dx, YStep: pattern.dy,\r\n        Matrix: multiplyMatrix(doc._ctm, pattern.matrix),\r\n        Resources: {\r\n          ProcSet: ['PDF', 'Text', 'ImageB', 'ImageC', 'ImageI'],\r\n          XObject: (function() {let temp = {}; temp[pattern.group.name] = pattern.group.xobj; return temp;})()\r\n        }\r\n      });\r\n      ref.write('/' + pattern.group.name + ' Do');\r\n      ref.end();\r\n      doc.page.patterns[name] = ref;\r\n      if (stroke) {\r\n        doc.addContent('/Pattern CS');\r\n        doc.addContent('/' + name + ' SCN');\r\n      } else {\r\n        doc.addContent('/Pattern cs');\r\n        doc.addContent('/' + name + ' scn');\r\n      }\r\n    }\r\n    function docBeginText(font, size) {\r\n      if (!doc.page.fonts[font.id]) {doc.page.fonts[font.id] = font.ref();}\r\n      doc.addContent('BT').addContent('/' + font.id + ' ' + size + ' Tf');\r\n    }\r\n    function docSetTextMatrix(a, b, c, d, e, f) {\r\n      doc.addContent(validateNumber(a) + ' ' + validateNumber(b) + ' ' + validateNumber(-c) + ' '  + validateNumber(-d) + ' ' + validateNumber(e) + ' ' + validateNumber(f) + ' Tm');\r\n    }\r\n    function docSetTextMode(fill, stroke) {\r\n      let mode = fill && stroke ? 2 : stroke ? 1 : fill ? 0 : 3;\r\n      doc.addContent(mode + ' Tr');\r\n    }\r\n    function docWriteGlyph(glyph) {\r\n      doc.addContent('<' + glyph + '> Tj');\r\n    }\r\n    function docEndText() {\r\n      doc.addContent('ET');\r\n    }\r\n    function docFillColor(color) {\r\n      if (color[0].constructor.name === 'PDFPattern') {\r\n        doc.fillOpacity(color[1]);\r\n        docUsePattern(color[0], false);\r\n      } else {\r\n        doc.fillColor(color[0], color[1]);\r\n      }\r\n    }\r\n    function docStrokeColor(color) {\r\n      if (color[0].constructor.name === 'PDFPattern') {\r\n        doc.strokeOpacity(color[1]);\r\n        docUsePattern(color[0], true);\r\n      } else {\r\n        doc.strokeColor(color[0], color[1]);\r\n      }\r\n    }\r\n    function docInsertLink(x, y, w, h, url) {\r\n      let ref = doc.ref({\r\n        Type: 'Annot',\r\n        Subtype: 'Link',\r\n        Rect: [x, y, w, h],\r\n        Border: [0, 0, 0],\r\n        A: {\r\n          S: 'URI',\r\n          URI: new String(url)\r\n        }\r\n      });\r\n      ref.end();\r\n      links.push(ref);\r\n    }\r\n    function parseXml(xml) {\r\n      let SvgNode = function(tag, type, value, error) {\r\n        this.error = error;\r\n        this.nodeName = tag;\r\n        this.nodeValue = value;\r\n        this.nodeType = type;\r\n        this.attributes = Object.create(null);\r\n        this.childNodes = [];\r\n        this.parentNode = null;\r\n        this.id = '';\r\n        this.textContent = '';\r\n        this.classList = [];\r\n      };\r\n      SvgNode.prototype.getAttribute = function(attr) {\r\n        return this.attributes[attr] != null ? this.attributes[attr] : null;\r\n      };\r\n      SvgNode.prototype.getElementById = function(id) {\r\n        let result = null;\r\n        (function recursive(node) {\r\n          if (result) {return;}\r\n          if (node.nodeType === 1) {\r\n            if (node.id === id) {result = node;}\r\n            for (let i = 0; i < node.childNodes.length; i++) {\r\n              recursive(node.childNodes[i]);\r\n            }\r\n          }\r\n        })(this);\r\n        return result;\r\n      };\r\n      SvgNode.prototype.getElementsByTagName = function(tag) {\r\n        let result = [];\r\n        (function recursive(node) {\r\n          if (node.nodeType === 1) {\r\n            if (node.nodeName === tag) {result.push(node);}\r\n            for (let i = 0; i < node.childNodes.length; i++) {\r\n              recursive(node.childNodes[i]);\r\n            }\r\n          }\r\n        })(this);\r\n        return result;\r\n      };\r\n      let parser = new StringParser(xml.trim()), result, child, error = false; \r\n      let recursive = function() {\r\n        let temp, child;\r\n        if (temp = parser.match(/^<([\\w:.-]+)\\s*/, true)) { // Opening tag\r\n          let node = new SvgNode(temp[1], 1, null, error);\r\n          while (temp = parser.match(/^([\\w:.-]+)(?:\\s*=\\s*\"([^\"]*)\"|\\s*=\\s*'([^']*)')?\\s*/, true)) { // Attribute\r\n            let attr = temp[1], value = decodeEntities(temp[2] || temp[3] || '');\r\n            if (!node.attributes[attr]) {\r\n              node.attributes[attr] = value;\r\n              if (attr === 'id') {node.id = value;}\r\n              if (attr === 'class') {node.classList = value.split(' ');}\r\n            } else {\r\n              warningCallback('parseXml: duplicate attribute \"' + attr + '\"');\r\n              error = true;\r\n            }\r\n          }\r\n          if (parser.match(/^>/)) { // End of opening tag\r\n            while (child = recursive()) {\r\n              node.childNodes.push(child);\r\n              child.parentNode = node;\r\n              node.textContent += (child.nodeType === 3 || child.nodeType === 4 ? child.nodeValue : child.textContent);\r\n            }\r\n            if (temp = parser.match(/^<\\/([\\w:.-]+)\\s*>/, true)) { // Closing tag\r\n              if (temp[1] === node.nodeName) {\r\n                return node;\r\n              } else {\r\n                warningCallback('parseXml: tag not matching, opening \"' + node.nodeName + '\" & closing \"' + temp[1] + '\"');\r\n                error = true;\r\n                return node;\r\n              }\r\n            } else {\r\n              warningCallback('parseXml: tag not matching, opening \"' + node.nodeName + '\" & not closing');\r\n              error = true;\r\n              return node;\r\n            }\r\n          } else if (parser.match(/^\\/>/)) { // Self-closing tag\r\n            return node;\r\n          } else {\r\n            warningCallback('parseXml: tag could not be parsed \"' + node.nodeName + '\"');\r\n            error = true;\r\n          }\r\n        } else if (temp = parser.match(/^<!--[\\s\\S]*?-->/)) { // Comment\r\n          return new SvgNode(null, 8, temp, error);\r\n        } else if (temp = parser.match(/^<\\?[\\s\\S]*?\\?>/)) { // Processing instructions\r\n          return new SvgNode(null, 7, temp, error);\r\n        } else if (temp = parser.match(/^<!DOCTYPE\\s*([\\s\\S]*?)>/)) { // Doctype\r\n          return new SvgNode(null, 10, temp, error);\r\n        } else if (temp = parser.match(/^<!\\[CDATA\\[([\\s\\S]*?)\\]\\]>/, true)) { // Cdata node\r\n          return new SvgNode('#cdata-section', 4, temp[1], error);\r\n        } else if (temp = parser.match(/^([^<]+)/, true)) { // Text node\r\n          return new SvgNode('#text', 3, decodeEntities(temp[1]), error);\r\n        }\r\n      };\r\n      while (child = recursive()) {\r\n        if (child.nodeType === 1 && !result) {\r\n          result = child;\r\n        } else if (child.nodeType === 1 || (child.nodeType === 3 && child.nodeValue.trim() !== '')) {\r\n          warningCallback('parseXml: data after document end has been discarded');\r\n        }\r\n      }\r\n      if (parser.matchAll()) {\r\n        warningCallback('parseXml: parsing error');\r\n      }\r\n      return result;\r\n    };\r\n    function decodeEntities(str) {\r\n      return(str.replace(/&(?:#([0-9]+)|#[xX]([0-9A-Fa-f]+)|([0-9A-Za-z]+));/g, function(mt, m0, m1, m2) {\r\n        if (m0) {return String.fromCharCode(parseInt(m0, 10));}\r\n        else if (m1) {return String.fromCharCode(parseInt(m1, 16));}\r\n        else if (m2 && Entities[m2]) {return String.fromCharCode(Entities[m2]);}\r\n        else {return mt;}\r\n      }));\r\n    }\r\n    function parseColor(raw) {\r\n      let temp, result;\r\n      raw = (raw || '').trim();\r\n      if (temp = NamedColors[raw]) {\r\n        result = [temp.slice(), 1];\r\n      } else if (temp = raw.match(/^rgba\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9.]+)\\s*\\)$/i)) {\r\n        temp[1] = parseInt(temp[1]); temp[2] = parseInt(temp[2]); temp[3] = parseInt(temp[3]); temp[4] = parseFloat(temp[4]);\r\n        if (temp[1] < 256 && temp[2] < 256 && temp[3] < 256 && temp[4] <= 1) {\r\n          result = [temp.slice(1, 4), temp[4]];\r\n        }\r\n      } else if (temp = raw.match(/^rgb\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)$/i)) {\r\n        temp[1] = parseInt(temp[1]); temp[2] = parseInt(temp[2]); temp[3] = parseInt(temp[3]);\r\n        if (temp[1] < 256 && temp[2] < 256 && temp[3] < 256) {\r\n          result = [temp.slice(1, 4), 1];\r\n        }\r\n      } else if (temp = raw.match(/^rgb\\(\\s*([0-9.]+)%\\s*,\\s*([0-9.]+)%\\s*,\\s*([0-9.]+)%\\s*\\)$/i)) {\r\n        temp[1] = 2.55 * parseFloat(temp[1]); temp[2] = 2.55 * parseFloat(temp[2]); temp[3] = 2.55 * parseFloat(temp[3]);\r\n        if (temp[1] < 256 && temp[2] < 256 && temp[3] < 256) {\r\n          result = [temp.slice(1, 4), 1];\r\n        }\r\n      } else if (temp = raw.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i)) {\r\n        result = [[parseInt(temp[1], 16), parseInt(temp[2], 16), parseInt(temp[3], 16)], 1];\r\n      } else if (temp = raw.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i)) {\r\n        result = [[0x11 * parseInt(temp[1], 16), 0x11 * parseInt(temp[2], 16), 0x11 * parseInt(temp[3], 16)], 1];\r\n      }\r\n      return colorCallback ? colorCallback(result, raw) : result;\r\n    }\r\n    function opacityToColor(color, opacity, isMask) {\r\n      let newColor = color[0].slice(),\r\n          newOpacity = color[1] * opacity;\r\n      if (isMask) {\r\n        for (let i = 0; i < color.length; i++) {\r\n          newColor[i] *= newOpacity;\r\n        }\r\n        return [newColor, 1];\r\n      } else {\r\n        return [newColor, newOpacity];\r\n      }\r\n    }\r\n    function multiplyMatrix() {\r\n      function multiply(a, b) {\r\n        return [ a[0]*b[0]+a[2]*b[1], a[1]*b[0]+a[3]*b[1], a[0]*b[2]+a[2]*b[3],\r\n                 a[1]*b[2]+a[3]*b[3], a[0]*b[4]+a[2]*b[5]+a[4], a[1]*b[4]+a[3]*b[5]+a[5] ];\r\n      }\r\n      let result = arguments[0];\r\n      for (let i = 1; i < arguments.length; i++) {\r\n        result = multiply(result, arguments[i]);\r\n      }\r\n      return result;\r\n    }\r\n    function transformPoint(p, m) {\r\n      return [m[0] * p[0] + m[2] * p[1] + m[4], m[1] * p[0] + m[3] * p[1] + m[5]];\r\n    }\r\n    function getGlobalMatrix() {\r\n      let ctm = doc._ctm;\r\n      for (let i = groupStack.length - 1; i >= 0; i--) {\r\n        ctm = multiplyMatrix(groupStack[i].savedMatrix, ctm);\r\n      }\r\n      return ctm;\r\n    }\r\n    function getPageBBox() {\r\n      return new SvgShape().M(0, 0).L(doc.page.width, 0).L(doc.page.width, doc.page.height).L(0, doc.page.height)\r\n                           .transform(inverseMatrix(getGlobalMatrix())).getBoundingBox();\r\n    }\r\n    function inverseMatrix(m) {\r\n      let dt = m[0] * m[3] - m[1] * m[2];\r\n      return [m[3] / dt, -m[1] / dt, -m[2] / dt, m[0] / dt, (m[2]*m[5] - m[3]*m[4]) / dt, (m[1]*m[4] - m[0]*m[5]) / dt];\r\n    }\r\n    function validateMatrix(m) {\r\n      let m0 = validateNumber(m[0]), m1 = validateNumber(m[1]), m2 = validateNumber(m[2]),\r\n          m3 = validateNumber(m[3]), m4 = validateNumber(m[4]), m5 = validateNumber(m[5]);\r\n      if (isNotEqual(m0 * m3 - m1 * m2, 0)) {\r\n        return [m0, m1, m2, m3, m4, m5];\r\n      }\r\n    }\r\n    function solveEquation(curve) {\r\n      let a = curve[2] || 0, b = curve[1] || 0, c = curve[0] || 0;\r\n      if (isEqual(a, 0) && isEqual(b, 0)) {\r\n        return [];\r\n      } else if (isEqual(a, 0)) {\r\n        return [(-c) / b];\r\n      } else {\r\n        let d = b * b - 4 * a * c;\r\n        if (isNotEqual(d, 0) && d > 0) {\r\n          return [(-b + Math.sqrt(d)) / (2 * a), (-b - Math.sqrt(d)) / (2 * a)];\r\n        } else if (isEqual(d, 0)) {\r\n          return [(-b) / (2 * a)];\r\n        } else {\r\n          return [];\r\n        }\r\n      }\r\n    }\r\n    function getCurveValue(t, curve) {\r\n      return (curve[0] || 0) + (curve[1] || 0) * t + (curve[2] || 0) * t * t + (curve[3] || 0) * t * t * t;\r\n    }\r\n    function isEqual(number, ref) {\r\n      return Math.abs(number - ref) < 1e-10;\r\n    }\r\n    function isNotEqual(number, ref) {\r\n      return Math.abs(number - ref) >= 1e-10;\r\n    }\r\n    function validateNumber(n) {\r\n      return n > -1e21 && n < 1e21 ? Math.round(n * 1e6) / 1e6 : 0;\r\n    }\r\n    function isArrayLike(v) {\r\n      return typeof v === 'object' && v !== null && typeof v.length === 'number';\r\n    }\r\n    function parseTranform(v) {\r\n      let parser = new StringParser((v || '').trim()), result = [1, 0, 0, 1, 0, 0], temp;\r\n      while (temp = parser.match(/^([A-Za-z]+)\\s*[(]([^(]+)[)]/, true)) {\r\n        let func = temp[1], nums = [], parser2 = new StringParser(temp[2].trim()), temp2;\r\n        while (temp2 = parser2.matchNumber()) {\r\n          nums.push(Number(temp2));\r\n          parser2.matchSeparator();\r\n        }\r\n        if (func === 'matrix' && nums.length === 6) {\r\n          result = multiplyMatrix(result, [nums[0], nums[1], nums[2], nums[3], nums[4], nums[5]]);\r\n        } else if (func === 'translate' && nums.length === 2) {\r\n          result = multiplyMatrix(result, [1, 0, 0, 1, nums[0], nums[1]]);\r\n        } else if (func === 'translate' && nums.length === 1) {\r\n          result = multiplyMatrix(result, [1, 0, 0, 1, nums[0], 0]);\r\n        } else if (func === 'scale' && nums.length === 2) {\r\n          result = multiplyMatrix(result, [nums[0], 0, 0, nums[1], 0, 0]);\r\n        } else if (func === 'scale' && nums.length === 1) {\r\n          result = multiplyMatrix(result, [nums[0], 0, 0, nums[0], 0, 0]);\r\n        } else if (func === 'rotate' && nums.length === 3) {\r\n          let a = nums[0] * Math.PI / 180;\r\n          result = multiplyMatrix(result, [1, 0, 0, 1, nums[1], nums[2]], [Math.cos(a), Math.sin(a), -Math.sin(a), Math.cos(a), 0, 0], [1, 0, 0, 1, -nums[1], -nums[2]]);\r\n        } else if (func === 'rotate' && nums.length === 1) {\r\n          let a = nums[0] * Math.PI / 180;\r\n          result = multiplyMatrix(result, [Math.cos(a), Math.sin(a), -Math.sin(a), Math.cos(a), 0, 0]);\r\n        } else if (func === 'skewX' && nums.length === 1) {\r\n          let a = nums[0] * Math.PI / 180;\r\n          result = multiplyMatrix(result, [1, 0, Math.tan(a), 1, 0, 0]);\r\n        } else if (func === 'skewY' && nums.length === 1) {\r\n          let a = nums[0] * Math.PI / 180;\r\n          result = multiplyMatrix(result, [1, Math.tan(a), 0, 1, 0, 0]);\r\n        } else {return;}\r\n        parser.matchSeparator();\r\n      }\r\n      if (parser.matchAll()) {return;}\r\n      return result;\r\n    }\r\n    function parseAspectRatio(aspectRatio, availWidth, availHeight, elemWidth, elemHeight, initAlign) {\r\n      let temp = (aspectRatio || '').trim().match(/^(none)$|^x(Min|Mid|Max)Y(Min|Mid|Max)(?:\\s+(meet|slice))?$/) || [],\r\n          ratioType = temp[1] || temp[4] || 'meet',\r\n          xAlign = temp[2] || 'Mid',\r\n          yAlign = temp[3] || 'Mid',\r\n          scaleX = availWidth / elemWidth,\r\n          scaleY = availHeight / elemHeight,\r\n          dx = {'Min':0, 'Mid':0.5, 'Max':1}[xAlign] - (initAlign || 0),\r\n          dy = {'Min':0, 'Mid':0.5, 'Max':1}[yAlign] - (initAlign || 0);\r\n      if (ratioType === 'slice') {\r\n        scaleY = scaleX = Math.max(scaleX, scaleY);\r\n      } else if (ratioType === 'meet') {\r\n        scaleY = scaleX = Math.min(scaleX, scaleY);\r\n      }\r\n      return [scaleX, 0, 0, scaleY, dx * (availWidth - elemWidth * scaleX), dy * (availHeight - elemHeight * scaleY)];\r\n    }\r\n    function parseStyleAttr(v) {\r\n      let result = Object.create(null);\r\n      v = (v || '').trim().split(/;/);\r\n      for (let i = 0; i < v.length; i++) {\r\n        let key = (v[i].split(':')[0] || '').trim(),\r\n            value = (v[i].split(':')[1] || '').trim();\r\n        if (key) {\r\n          result[key] = value;\r\n        }\r\n      }\r\n      if (result['marker']) {\r\n        if (!result['marker-start']) {result['marker-start'] = result['marker'];}\r\n        if (!result['marker-mid']) {result['marker-mid'] = result['marker'];}\r\n        if (!result['marker-end']) {result['marker-end'] = result['marker'];}\r\n      }\r\n      if (result['font']) {\r\n        let fontFamily = null, fontSize = null, fontStyle = \"normal\", fontWeight = \"normal\", fontVariant = \"normal\";\r\n        let parts = result['font'].split(/\\s+/);\r\n        for (let i = 0; i < parts.length; i++) {\r\n          switch (parts[i]) {\r\n            case \"normal\":\r\n              break;\r\n            case \"italic\": case \"oblique\":\r\n              fontStyle = parts[i];\r\n              break;\r\n            case \"small-caps\":\r\n              fontVariant = parts[i];\r\n              break;\r\n            case \"bold\": case \"bolder\": case \"lighter\": case \"100\": case \"200\": case \"300\":\r\n            case \"400\": case \"500\": case \"600\": case \"700\": case \"800\": case \"900\":\r\n              fontWeight = parts[i];\r\n              break;\r\n            default:\r\n              if (!fontSize) {\r\n                fontSize = parts[i].split('/')[0];\r\n              } else {\r\n                if (!fontFamily) {\r\n                  fontFamily = parts[i];\r\n                } else {\r\n                  fontFamily += ' ' + parts[i];\r\n                }\r\n              }\r\n              break;\r\n          }\r\n        }\r\n        if (!result['font-style']) {result['font-style'] = fontStyle;}\r\n        if (!result['font-variant']) {result['font-variant'] = fontVariant;}\r\n        if (!result['font-weight']) {result['font-weight'] = fontWeight;}\r\n        if (!result['font-size']) {result['font-size'] = fontSize;}\r\n        if (!result['font-family']) {result['font-family'] = fontFamily;}\r\n      }\r\n      return result;\r\n    }\r\n    function parseSelector(v) {\r\n      let parts = v.split(/(?=[.#])/g), ids = [], classes = [], tags = [], temp;\r\n      for (let i = 0; i < parts.length; i++) {\r\n        if (temp = parts[i].match(/^[#]([_A-Za-z0-9-]+)$/)) {\r\n          ids.push(temp[1]);\r\n        } else if (temp = parts[i].match(/^[.]([_A-Za-z0-9-]+)$/)) {\r\n          classes.push(temp[1]);\r\n        } else if (temp = parts[i].match(/^([_A-Za-z0-9-]+)$/)) {\r\n          tags.push(temp[1]);\r\n        } else if (parts[i] !== '*') {\r\n          return;\r\n        }\r\n      }\r\n      return {\r\n        tags: tags, ids: ids, classes: classes,\r\n        specificity: ids.length * 10000 + classes.length * 100 + tags.length\r\n      };\r\n    }\r\n    function parseStyleSheet(v) {\r\n      let parser = new StringParser(v.trim()), rules = [], rule;\r\n      while (rule = parser.match(/^\\s*([^\\{\\}]*?)\\s*\\{([^\\{\\}]*?)\\}/, true)) {\r\n        let selectors = rule[1].split(/\\s*,\\s*/g),\r\n            css = parseStyleAttr(rule[2]);\r\n        for (let i = 0; i < selectors.length; i++) {\r\n          let selector = parseSelector(selectors[i]);\r\n          if (selector) {\r\n            rules.push({selector: selector, css:css});\r\n          }\r\n        }\r\n      }\r\n      return rules;\r\n    }\r\n    function matchesSelector(elem, selector) {\r\n      if (elem.nodeType !== 1) {return false;}\r\n      for (let i = 0; i < selector.tags.length; i++) {\r\n        if (selector.tags[i] !== elem.nodeName) {return false;}\r\n      }\r\n      for (let i = 0; i < selector.ids.length; i++) {\r\n        if (selector.ids[i] !== elem.id) {return false;}\r\n      }\r\n      for (let i = 0; i < selector.classes.length; i++) {\r\n        if (elem.classList.indexOf(selector.classes[i]) === -1) {return false;}\r\n      }\r\n      return true;\r\n    }\r\n    function getStyle(elem) {\r\n      let result = Object.create(null);\r\n      let specificities = Object.create(null);\r\n      for (let i = 0; i < styleRules.length; i++) {\r\n        let rule = styleRules[i];\r\n        if (matchesSelector(elem, rule.selector)) {\r\n          for (let key in rule.css) {\r\n            if (!(specificities[key] > rule.selector.specificity)) {\r\n              result[key] = rule.css[key];\r\n              specificities[key] = rule.selector.specificity;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n    function combineArrays(array1, array2) {\r\n      return array1.concat(array2.slice(array1.length));\r\n    }\r\n    function getAscent(font, size) {\r\n      return Math.max(font.ascender, (font.bbox[3] || font.bbox.maxY) * (font.scale || 1)) * size / 1000;\r\n    }\r\n    function getDescent(font, size) {\r\n      return Math.min(font.descender, (font.bbox[1] || font.bbox.minY) * (font.scale || 1)) * size / 1000;\r\n    }\r\n    function getXHeight(font, size) {\r\n      return (font.xHeight || 0.5 * (font.ascender - font.descender)) * size / 1000;\r\n    }\r\n    function getBaseline(font, size, baseline, shift) {\r\n      let dy1, dy2;\r\n      switch (baseline) {\r\n        case 'middle': dy1 = 0.5 * getXHeight(font, size); break;\r\n        case 'central': dy1 = 0.5 * (getDescent(font, size) + getAscent(font, size)); break;\r\n        case 'after-edge': case 'text-after-edge': dy1 = getDescent(font, size); break;\r\n        case 'alphabetic': case 'auto': case 'baseline': dy1 = 0; break;\r\n        case 'mathematical': dy1 = 0.5 * getAscent(font, size); break;\r\n        case 'hanging': dy1 = 0.8 * getAscent(font, size); break;\r\n        case 'before-edge': case 'text-before-edge': dy1 = getAscent(font, size); break;\r\n        default: dy1 = 0; break;\r\n      }\r\n      switch (shift) {\r\n        case 'baseline': dy2 = 0; break;\r\n        case 'super': dy2 = 0.6 * size; break;\r\n        case 'sub': dy2 = -0.6 * size; break;\r\n        default: dy2 = shift; break;\r\n      }\r\n      return dy1 - dy2;\r\n    }\r\n    function getTextPos(font, size, text) {\r\n      let encoded = font.encode('' + text), hex = encoded[0], pos = encoded[1], data = [];\r\n      for (let i = 0; i < hex.length; i++) {\r\n        let unicode = font.unicode ? font.unicode[parseInt(hex[i], 16)] : [text.charCodeAt(i)];\r\n        data.push({\r\n          glyph: hex[i],\r\n          unicode: unicode,\r\n          width: pos[i].advanceWidth * size / 1000,\r\n          xOffset: pos[i].xOffset * size / 1000,\r\n          yOffset: pos[i].yOffset * size / 1000,\r\n          xAdvance: pos[i].xAdvance * size / 1000,\r\n          yAdvance: pos[i].yAdvance * size / 1000\r\n        });\r\n      }\r\n      return data;\r\n    }\r\n    function createSVGElement(obj, inherits) {\r\n      switch (obj.nodeName) {\r\n        case 'use': return new SvgElemUse(obj, inherits);\r\n        case 'symbol': return new SvgElemSymbol(obj, inherits);\r\n        case 'g': return new SvgElemGroup(obj, inherits);\r\n        case 'a': return new SvgElemLink(obj, inherits);\r\n        case 'svg': return new SvgElemSvg(obj, inherits);\r\n        case 'image': return new SVGElemImage(obj, inherits);\r\n        case 'rect': return new SvgElemRect(obj, inherits);\r\n        case 'circle': return new SvgElemCircle(obj, inherits);\r\n        case 'ellipse': return new SvgElemEllipse(obj, inherits);\r\n        case 'line': return new SvgElemLine(obj, inherits);\r\n        case 'polyline': return new SvgElemPolyline(obj, inherits);\r\n        case 'polygon': return new SvgElemPolygon(obj, inherits);\r\n        case 'path': return new SvgElemPath(obj, inherits);\r\n        case 'text': return new SvgElemText(obj, inherits);\r\n        case 'tspan': return new SvgElemTspan(obj, inherits);\r\n        case 'textPath': return new SvgElemTextPath(obj, inherits);\r\n        case '#text': case '#cdata-section': return new SvgElemTextNode(obj, inherits);\r\n        default: return new SvgElem(obj, inherits);\r\n      }\r\n    }\r\n\r\n    var StringParser = function(str) {\r\n      this.match = function(exp, all) {\r\n        let temp = str.match(exp);\r\n        if (!temp || temp.index !== 0) {return;}\r\n        str = str.substring(temp[0].length);\r\n        return (all ? temp : temp[0]);\r\n      };\r\n      this.matchSeparator = function() {\r\n        return this.match(/^(?:\\s*,\\s*|\\s*|)/);\r\n      };\r\n      this.matchSpace = function() {\r\n        return this.match(/^(?:\\s*)/);\r\n      };\r\n      this.matchLengthUnit = function() {\r\n        return this.match(/^(?:px|pt|cm|mm|in|pc|em|ex|%|)/);\r\n      };\r\n      this.matchNumber = function() {\r\n        return this.match(/^(?:[-+]?(?:[0-9]+[.][0-9]+|[0-9]+[.]|[.][0-9]+|[0-9]+)(?:[eE][-+]?[0-9]+)?)/);\r\n      };\r\n      this.matchAll = function() {\r\n        return this.match(/^[\\s\\S]+/);\r\n      };\r\n    };\r\n\r\n    var BezierSegment = function(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\r\n      let divisions = 6 * precision;\r\n      let equationX = [p1x, -3 * p1x + 3 * c1x, 3 * p1x - 6 * c1x + 3 * c2x, -p1x + 3 * c1x - 3 * c2x + p2x];\r\n      let equationY = [p1y, -3 * p1y + 3 * c1y, 3 * p1y - 6 * c1y + 3 * c2y, -p1y + 3 * c1y - 3 * c2y + p2y];\r\n      let derivativeX = [-3 * p1x + 3 * c1x, 6 * p1x - 12 * c1x + 6 * c2x, -3 * p1x + 9 * c1x - 9 * c2x + 3 * p2x];\r\n      let derivativeY = [-3 * p1y + 3 * c1y, 6 * p1y - 12 * c1y + 6 * c2y, -3 * p1y + 9 * c1y - 9 * c2y + 3 * p2y];\r\n      let lengthMap = [0];\r\n      for (let i = 1; i <= divisions; i++) {\r\n        let t = (i - 0.5) / divisions;\r\n        let dx = getCurveValue(t, derivativeX) / divisions,\r\n            dy = getCurveValue(t, derivativeY) / divisions,\r\n            l = Math.sqrt(dx * dx + dy * dy);\r\n        lengthMap[i] = lengthMap[i - 1] + l;\r\n      }\r\n      this.totalLength = lengthMap[divisions];\r\n      this.startPoint = [p1x, p1y, isEqual(p1x, c1x) && isEqual(p1y, c1y) ? Math.atan2(c2y - c1y, c2x - c1x) : Math.atan2(c1y - p1y, c1x - p1x)];\r\n      this.endPoint = [p2x, p2y, isEqual(c2x, p2x) && isEqual(c2y, p2y) ? Math.atan2(c2y - c1y, c2x - c1x) : Math.atan2(p2y - c2y, p2x - c2x)];\r\n      this.getBoundingBox = function() {\r\n        let temp;\r\n        let minX = getCurveValue(0, equationX), minY = getCurveValue(0, equationY),\r\n            maxX = getCurveValue(1, equationX), maxY = getCurveValue(1, equationY);\r\n        if (minX > maxX) {temp = maxX; maxX = minX; minX = temp;}\r\n        if (minY > maxY) {temp = maxY; maxY = minY; minY = temp;}\r\n        let rootsX = solveEquation(derivativeX);\r\n        for (let i = 0; i < rootsX.length; i++) {\r\n          if (rootsX[i] >= 0 && rootsX[i] <= 1) {\r\n            let x = getCurveValue(rootsX[i], equationX);\r\n            if (x < minX) {minX = x;}\r\n            if (x > maxX) {maxX = x;}\r\n          }\r\n        }\r\n        let rootsY = solveEquation(derivativeY);\r\n        for (let i = 0; i < rootsY.length; i++) {\r\n          if (rootsY[i] >= 0 && rootsY[i] <= 1) {\r\n            let y = getCurveValue(rootsY[i], equationY);\r\n            if (y < minY) {minY = y;}\r\n            if (y > maxY) {maxY = y;}\r\n          }\r\n        }\r\n        return [minX, minY, maxX, maxY];\r\n      };\r\n      this.getPointAtLength = function(l) {\r\n        if (isEqual(l, 0)) {return this.startPoint;}\r\n        if (isEqual(l, this.totalLength)) {return this.endPoint;}\r\n        if (l < 0 || l > this.totalLength) {return;}\r\n        for (let i = 1; i <= divisions; i++) {\r\n          let l1 = lengthMap[i-1], l2 = lengthMap[i];\r\n          if (l1 <= l && l <= l2) {\r\n            let t = (i - (l2 - l) / (l2 - l1)) / divisions,\r\n                x = getCurveValue(t, equationX), y = getCurveValue(t, equationY),\r\n                dx = getCurveValue(t, derivativeX), dy = getCurveValue(t, derivativeY);\r\n            return [x, y, Math.atan2(dy, dx)];\r\n          }\r\n        }\r\n      };\r\n    };\r\n\r\n    var LineSegment = function(p1x, p1y, p2x, p2y) {\r\n      this.totalLength = Math.sqrt((p2x - p1x) * (p2x - p1x) + (p2y - p1y) * (p2y - p1y));\r\n      this.startPoint = [p1x, p1y, Math.atan2(p2y - p1y, p2x - p1x)];\r\n      this.endPoint = [p2x, p2y, Math.atan2(p2y - p1y, p2x - p1x)];\r\n      this.getBoundingBox = function() {\r\n        return [Math.min(this.startPoint[0], this.endPoint[0]), Math.min(this.startPoint[1], this.endPoint[1]),\r\n                Math.max(this.startPoint[0], this.endPoint[0]), Math.max(this.startPoint[1], this.endPoint[1])];\r\n      };\r\n      this.getPointAtLength = function(l) {\r\n        if (l >= 0 && l <= this.totalLength) {\r\n          let r = l / this.totalLength || 0,\r\n              x = this.startPoint[0] + r * (this.endPoint[0] - this.startPoint[0]),\r\n              y = this.startPoint[1] + r * (this.endPoint[1] - this.startPoint[1]);\r\n          return [x, y, this.startPoint[2]];\r\n        }\r\n      };\r\n    };\r\n\r\n    var SvgShape = function() {\r\n      this.pathCommands = [];\r\n      this.pathSegments = [];\r\n      this.startPoint = null;\r\n      this.endPoint = null;\r\n      this.totalLength = 0;\r\n      let startX = 0, startY = 0, currX = 0, currY = 0, lastCom, lastCtrlX, lastCtrlY;\r\n      this.move = function(x, y) {\r\n        startX = currX = x; startY = currY = y;\r\n        return null;\r\n      };\r\n      this.line = function(x, y) {\r\n        let segment = new LineSegment(currX, currY, x, y);\r\n        currX = x; currY = y;\r\n        return segment;\r\n      };\r\n      this.curve = function(c1x, c1y, c2x, c2y, x, y) {\r\n        let segment = new BezierSegment(currX, currY, c1x, c1y, c2x, c2y, x, y);\r\n        currX = x; currY = y;\r\n        return segment;\r\n      };\r\n      this.close = function() {\r\n        let segment = new LineSegment(currX, currY, startX, startY);\r\n        currX = startX; currY = startY;\r\n        return segment;\r\n      };\r\n      this.addCommand = function(data) {\r\n        this.pathCommands.push(data);\r\n        let segment = this[data[0]].apply(this, data.slice(3));\r\n        if (segment) {\r\n          segment.hasStart = data[1];\r\n          segment.hasEnd = data[2];\r\n          this.startPoint = this.startPoint || segment.startPoint;\r\n          this.endPoint = segment.endPoint;\r\n          this.pathSegments.push(segment);\r\n          this.totalLength += segment.totalLength;\r\n        }\r\n      };\r\n      this.M = function(x, y) {\r\n        this.addCommand(['move', true, true, x, y]);\r\n        lastCom = 'M';\r\n        return this;\r\n      };\r\n      this.m = function(x, y) {\r\n        return this.M(currX + x, currY + y);\r\n      };\r\n      this.Z = this.z = function() {\r\n        this.addCommand(['close', true, true]);\r\n        lastCom = 'Z';\r\n        return this;\r\n      };\r\n      this.L = function(x, y) {\r\n        this.addCommand(['line', true, true, x, y]);\r\n        lastCom = 'L';\r\n        return this;\r\n      };\r\n      this.l = function(x, y) {\r\n        return this.L(currX + x, currY + y);\r\n      };\r\n      this.H = function(x) {\r\n        return this.L(x, currY);\r\n      };\r\n      this.h = function(x) {\r\n        return this.L(currX + x, currY);\r\n      };\r\n      this.V = function(y) {\r\n        return this.L(currX, y);\r\n      };\r\n      this.v = function(y) {\r\n        return this.L(currX, currY + y);\r\n      };\r\n      this.C = function(c1x, c1y, c2x, c2y, x, y) {\r\n        this.addCommand(['curve', true, true, c1x, c1y, c2x, c2y, x, y]);\r\n        lastCom = 'C'; lastCtrlX = c2x; lastCtrlY = c2y;\r\n        return this;\r\n      };\r\n      this.c = function(c1x, c1y, c2x, c2y, x, y) {\r\n        return this.C(currX + c1x, currY + c1y, currX + c2x, currY + c2y, currX + x, currY + y);\r\n      };\r\n      this.S = function(c1x, c1y, x, y) {\r\n        return this.C(currX + (lastCom === 'C' ? currX - lastCtrlX : 0), currY + (lastCom === 'C' ? currY - lastCtrlY : 0), c1x, c1y, x, y);\r\n      };\r\n      this.s = function(c1x, c1y, x, y) {\r\n        return this.C(currX + (lastCom === 'C' ? currX - lastCtrlX : 0), currY + (lastCom === 'C' ? currY - lastCtrlY : 0), currX + c1x, currY + c1y, currX + x, currY + y);\r\n      };\r\n      this.Q = function(cx, cy, x, y) {\r\n        let c1x = currX + 2 / 3 * (cx - currX), c1y = currY + 2 / 3 * (cy - currY),\r\n            c2x = x + 2 / 3 * (cx - x), c2y = y + 2 / 3 * (cy - y);\r\n        this.addCommand(['curve', true, true, c1x, c1y, c2x, c2y, x, y]);\r\n        lastCom = 'Q'; lastCtrlX = cx; lastCtrlY = cy;\r\n        return this;\r\n      };\r\n      this.q = function(c1x, c1y, x, y) {\r\n        return this.Q(currX + c1x, currY + c1y, currX + x, currY + y);\r\n      };\r\n      this.T = function(x, y) {\r\n        return this.Q(currX + (lastCom === 'Q' ? currX - lastCtrlX : 0), currY + (lastCom === 'Q' ? currY - lastCtrlY : 0), x, y);\r\n      };\r\n      this.t = function(x, y) {\r\n        return this.Q(currX + (lastCom === 'Q' ? currX - lastCtrlX : 0), currY + (lastCom === 'Q' ? currY - lastCtrlY : 0), currX + x, currY + y);\r\n      };\r\n      this.A = function(rx, ry, fi, fa, fs, x, y) {\r\n        if (isEqual(rx, 0) || isEqual(ry, 0)) {\r\n          this.addCommand(['line', true, true, x, y]);\r\n        } else {\r\n          fi = fi * (Math.PI / 180);\r\n          rx = Math.abs(rx);\r\n          ry = Math.abs(ry);\r\n          fa = 1 * !!fa;\r\n          fs = 1 * !!fs;\r\n          let x1 = Math.cos(fi) * (currX - x) / 2 + Math.sin(fi) * (currY - y) / 2,\r\n              y1 = Math.cos(fi) * (currY - y) / 2 - Math.sin(fi) * (currX - x) / 2,\r\n              lambda = (x1 * x1) / (rx * rx) + (y1 * y1) / (ry * ry);\r\n          if (lambda > 1) {\r\n            rx *= Math.sqrt(lambda);\r\n            ry *= Math.sqrt(lambda);\r\n          }\r\n          let r = Math.sqrt(Math.max(0, rx * rx * ry * ry - rx * rx * y1 * y1 - ry * ry * x1 * x1) / (rx * rx * y1 * y1 + ry * ry * x1 * x1)),\r\n              x2 = (fa === fs ? -1 : 1) * r * rx * y1 / ry,\r\n              y2 = (fa === fs ? 1 : -1) * r * ry * x1 / rx;\r\n          let cx = Math.cos(fi) * x2 - Math.sin(fi) * y2 + (currX + x) / 2,\r\n              cy = Math.sin(fi) * x2 + Math.cos(fi) * y2 + (currY + y) / 2,\r\n              th1 = Math.atan2((y1 - y2) / ry, (x1 - x2) / rx),\r\n              th2 = Math.atan2((-y1 - y2) / ry, (-x1 - x2) / rx);\r\n          if (fs === 0 && th2 - th1 > 0) {\r\n            th2 -= 2 * Math.PI;\r\n          } else if (fs === 1 && th2 - th1 < 0) {\r\n            th2 += 2 * Math.PI;\r\n          }\r\n          let segms = Math.ceil(Math.abs(th2 - th1) / (Math.PI / precision));\r\n          for (let i = 0; i < segms; i++) {\r\n            let th3 = th1 + i * (th2 - th1) / segms,\r\n                th4 = th1 + (i + 1) * (th2 - th1) / segms,\r\n                t = 4/3 * Math.tan((th4 - th3) / 4);\r\n            let c1x = cx + Math.cos(fi) * rx * (Math.cos(th3) - t * Math.sin(th3)) - Math.sin(fi) * ry * (Math.sin(th3) + t * Math.cos(th3)),\r\n                c1y = cy + Math.sin(fi) * rx * (Math.cos(th3) - t * Math.sin(th3)) + Math.cos(fi) * ry * (Math.sin(th3) + t * Math.cos(th3)),\r\n                c2x = cx + Math.cos(fi) * rx * (Math.cos(th4) + t * Math.sin(th4)) - Math.sin(fi) * ry * (Math.sin(th4) - t * Math.cos(th4)),\r\n                c2y = cy + Math.sin(fi) * rx * (Math.cos(th4) + t * Math.sin(th4)) + Math.cos(fi) * ry * (Math.sin(th4) - t * Math.cos(th4)),\r\n                endX = cx + Math.cos(fi) * rx * Math.cos(th4) - Math.sin(fi) * ry * Math.sin(th4),\r\n                endY = cy + Math.sin(fi) * rx * Math.cos(th4) + Math.cos(fi) * ry * Math.sin(th4);\r\n            this.addCommand(['curve', (i === 0), (i === segms - 1), c1x, c1y, c2x, c2y, endX, endY]);\r\n          }\r\n        }\r\n        lastCom = 'A';\r\n        return this;\r\n      };\r\n      this.a = function(rx, ry, fi, fa, fs, x, y) {\r\n        return this.A(rx, ry, fi, fa, fs, currX + x, currY + y);\r\n      };\r\n      this.path = function(d) {\r\n        let command, value, temp,\r\n            parser = new StringParser((d || '').trim());\r\n        while (command = parser.match(/^[astvzqmhlcASTVZQMHLC]/)) {\r\n          parser.matchSeparator();\r\n          let values = [];\r\n          while (value = (PathFlags[command + values.length] ? parser.match(/^[01]/) : parser.matchNumber())) {\r\n            parser.matchSeparator();\r\n            if (values.length === PathArguments[command]) {\r\n              this[command].apply(this, values);\r\n              values = [];\r\n              if (command === 'M') {command = 'L';}\r\n              else if (command === 'm') {command = 'l';}\r\n            }\r\n            values.push(Number(value));\r\n          }\r\n          if (values.length === PathArguments[command]) {\r\n            this[command].apply(this, values);\r\n          } else {\r\n            warningCallback('SvgPath: command ' + command + ' with ' + values.length + ' numbers'); return;\r\n          }\r\n        }\r\n        if (temp = parser.matchAll()) {\r\n          warningCallback('SvgPath: unexpected string ' + temp);\r\n        }\r\n        return this;\r\n      };\r\n      this.getBoundingBox = function() {\r\n        let bbox = [Infinity, Infinity, -Infinity, -Infinity];\r\n        function addBounds(bbox1) {\r\n          if (bbox1[0] < bbox[0]) {bbox[0] = bbox1[0];}\r\n          if (bbox1[2] > bbox[2]) {bbox[2] = bbox1[2];}\r\n          if (bbox1[1] < bbox[1]) {bbox[1] = bbox1[1];}\r\n          if (bbox1[3] > bbox[3]) {bbox[3] = bbox1[3];}\r\n        }\r\n        for (let i = 0; i < this.pathSegments.length; i++) {\r\n          addBounds(this.pathSegments[i].getBoundingBox());\r\n        }\r\n        if (bbox[0] === Infinity) {bbox[0] = 0;}\r\n        if (bbox[1] === Infinity) {bbox[1] = 0;}\r\n        if (bbox[2] === -Infinity) {bbox[2] = 0;}\r\n        if (bbox[3] === -Infinity) {bbox[3] = 0;}\r\n        return bbox;\r\n      };\r\n      this.getPointAtLength = function(l) {\r\n        if (l >= 0 && l <= this.totalLength) {\r\n          let temp;\r\n          for (let i = 0; i < this.pathSegments.length; i++) {\r\n            if (temp = this.pathSegments[i].getPointAtLength(l)) {\r\n              return temp;\r\n            }\r\n            l -= this.pathSegments[i].totalLength;\r\n          }\r\n          return this.endPoint;\r\n        }\r\n      };\r\n      this.transform = function(m) {\r\n        this.pathSegments = [];\r\n        this.startPoint = null;\r\n        this.endPoint = null;\r\n        this.totalLength = 0;\r\n        for (let i = 0; i < this.pathCommands.length; i++) {\r\n          let data = this.pathCommands.shift();\r\n          for (let j = 3; j < data.length; j+=2) {\r\n            let p = transformPoint([data[j], data[j + 1]], m)\r\n            data[j] = p[0];\r\n            data[j + 1] = p[1];\r\n          }\r\n          this.addCommand(data);\r\n        }\r\n        return this;        \r\n      };\r\n      this.mergeShape = function(shape) {\r\n        for (let i = 0; i < shape.pathCommands.length; i++) {\r\n          this.addCommand(shape.pathCommands[i].slice());\r\n        }\r\n        return this;\r\n      };\r\n      this.clone = function() {\r\n        return new SvgShape().mergeShape(this);\r\n      };\r\n      this.insertInDocument = function() {\r\n        for (let i = 0; i < this.pathCommands.length; i++) {\r\n          let command = this.pathCommands[i][0], values = this.pathCommands[i].slice(3);\r\n          switch(command) {\r\n            case 'move':  doc.moveTo(values[0], values[1]);  break;\r\n            case 'line':  doc.lineTo(values[0], values[1]);  break;\r\n            case 'curve':  doc.bezierCurveTo(values[0], values[1], values[2], values[3], values[4], values[5]);  break;\r\n            case 'close':  doc.closePath();  break;\r\n          }\r\n        }\r\n      };\r\n      this.getSubPaths = function() {\r\n        let subPaths = [], shape = new SvgShape();\r\n        for (let i = 0; i < this.pathCommands.length; i++) {\r\n          let data = this.pathCommands[i], command = this.pathCommands[i][0];\r\n          if (command === 'move' && i !== 0) {\r\n            subPaths.push(shape);\r\n            shape = new SvgShape();\r\n          }\r\n          shape.addCommand(data);\r\n        }\r\n        subPaths.push(shape);\r\n        return subPaths;\r\n      };\r\n      this.getMarkers = function() {\r\n        let markers = [], subPaths = this.getSubPaths();\r\n        for (let i = 0; i < subPaths.length; i++) {\r\n          let subPath = subPaths[i], subPathMarkers = [];\r\n          for (let j = 0; j < subPath.pathSegments.length; j++) {\r\n            let segment = subPath.pathSegments[j];\r\n            if (isNotEqual(segment.totalLength, 0) || j === 0 || j === subPath.pathSegments.length - 1) {\r\n              if (segment.hasStart) {\r\n                let startMarker = segment.getPointAtLength(0), prevEndMarker = subPathMarkers.pop();\r\n                if (prevEndMarker) {startMarker[2] = 0.5 * (prevEndMarker[2] + startMarker[2]);}\r\n                subPathMarkers.push(startMarker);\r\n              }\r\n              if (segment.hasEnd) {\r\n                let endMarker = segment.getPointAtLength(segment.totalLength);\r\n                subPathMarkers.push(endMarker);\r\n              }\r\n            }\r\n          }\r\n          markers = markers.concat(subPathMarkers);\r\n        }\r\n        return markers;\r\n      };\r\n    };\r\n\r\n    var SvgElem = function(obj, inherits) {\r\n      let styleCache = Object.create(null);\r\n      let childrenCache = null;\r\n      this.name = obj.nodeName;\r\n      this.isOuterElement = obj === svg || !obj.parentNode;\r\n      this.inherits = inherits || (!this.isOuterElement ? createSVGElement(obj.parentNode, null) : null);\r\n      this.stack = (this.inherits ? this.inherits.stack.concat(obj) : [obj]);\r\n      this.style = parseStyleAttr(typeof obj.getAttribute === 'function' && obj.getAttribute('style'));\r\n      this.css = useCSS ? getComputedStyle(obj) : getStyle(obj);\r\n      this.allowedChildren = [];\r\n      this.attr = function(key) {\r\n        if (typeof obj.getAttribute === 'function') {\r\n          return obj.getAttribute(key);\r\n        }\r\n      };\r\n      this.resolveUrl = function(value) {\r\n        let temp = (value || '').match(/^\\s*(?:url\\(\"(.*)#(.*)\"\\)|url\\('(.*)#(.*)'\\)|url\\((.*)#(.*)\\)|(.*)#(.*))\\s*$/) || [];\r\n        let file = temp[1] || temp[3] || temp[5] || temp[7],\r\n            id = temp[2] || temp[4] || temp[6] || temp[8];\r\n        if (id) {\r\n          if (!file) {\r\n            let svgObj = svg.getElementById(id);\r\n            if (svgObj) {\r\n              if (this.stack.indexOf(svgObj) === -1) {\r\n                return svgObj;\r\n              } else {\r\n                warningCallback('SVGtoPDF: loop of circular references for id \"' + id + '\"');\r\n                return;\r\n              }\r\n            }\r\n          }\r\n          if (documentCallback) {\r\n            let svgs = documentCache[file];\r\n            if (!svgs) {\r\n              svgs = documentCallback(file);\r\n              if (!isArrayLike(svgs)) {svgs = [svgs];}\r\n              for (let i = 0; i < svgs.length; i++) {\r\n                if (typeof svgs[i] === 'string') {svgs[i] = parseXml(svgs[i]);}\r\n              }\r\n              documentCache[file] = svgs;\r\n            }\r\n            for (let i = 0; i < svgs.length; i++) {\r\n              let svgObj = svgs[i].getElementById(id);\r\n              if (svgObj) {\r\n                if (this.stack.indexOf(svgObj) === -1) {\r\n                  return svgObj;\r\n                } else {\r\n                  warningCallback('SVGtoPDF: loop of circular references for id \"' + file + '#' + id + '\"');\r\n                  return;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n      this.computeUnits = function(value, unit, percent, isFontSize) {\r\n        if (unit === '%') {\r\n          return parseFloat(value) / 100 * (isFontSize || percent != null ? percent : this.getViewport());\r\n        } else if (unit === 'ex' || unit === 'em') {\r\n          return value * {'em':1, 'ex':0.5}[unit] * (isFontSize ? percent : this.get('font-size'));\r\n        } else {\r\n          return value * {'':1, 'px':1, 'pt':96/72, 'cm':96/2.54, 'mm':96/25.4, 'in':96, 'pc':96/6}[unit];\r\n        }\r\n      };\r\n      this.computeLength = function(value, percent, initial, isFontSize) {\r\n        let parser = new StringParser((value || '').trim()), temp1, temp2;\r\n        if (typeof (temp1 = parser.matchNumber()) === 'string' && typeof (temp2 = parser.matchLengthUnit()) === 'string' && !parser.matchAll()) {\r\n          return this.computeUnits(temp1, temp2, percent, isFontSize);\r\n        }\r\n        return initial;\r\n      };\r\n      this.computeLengthList = function(value, percent, strict) {\r\n        let parser = new StringParser((value || '').trim()), result = [], temp1, temp2;\r\n        while (typeof (temp1 = parser.matchNumber()) === 'string' && typeof (temp2 = parser.matchLengthUnit()) === 'string') {\r\n          result.push(this.computeUnits(temp1, temp2, percent));\r\n          parser.matchSeparator();\r\n        }\r\n        if (strict && parser.matchAll()) {return;}\r\n        return result;\r\n      };\r\n      this.getLength = function(key, percent, initial) {\r\n        return this.computeLength(this.attr(key), percent, initial);\r\n      };\r\n      this.getLengthList = function(key, percent) {\r\n        return this.computeLengthList(this.attr(key), percent);\r\n      };\r\n      this.getUrl = function(key) {\r\n        return this.resolveUrl(this.attr(key))\r\n      };\r\n      this.getNumberList = function(key) {\r\n        let parser = new StringParser((this.attr(key) || '').trim()), result = [], temp;\r\n        while (temp = parser.matchNumber()) {\r\n          result.push(Number(temp));\r\n          parser.matchSeparator();\r\n        }\r\n        result.error = parser.matchAll();\r\n        return result;\r\n      }\r\n      this.getViewbox = function(key, initial) {\r\n        let viewBox = this.getNumberList(key);\r\n        if (viewBox.length === 4 && viewBox[2] >= 0 && viewBox[3] >= 0) {return viewBox;}\r\n        return initial;\r\n      };\r\n      this.getPercent = function(key, initial) {\r\n        let value = this.attr(key);\r\n        let parser = new StringParser((value || '').trim()), temp1, temp2;\r\n        let number = parser.matchNumber();\r\n        if (!number) {return initial;}\r\n        if (parser.match('%')) {number *= 0.01;}\r\n        if (parser.matchAll()) {return initial;}\r\n        return Math.max(0, Math.min(1, number));\r\n      };\r\n      this.chooseValue = function(args) {\r\n        for (let i = 0; i < arguments.length; i++) {\r\n          if (arguments[i] != null && arguments[i] === arguments[i]) {return arguments[i];}\r\n        }\r\n        return arguments[arguments.length - 1];\r\n      };\r\n      this.get = function(key) {\r\n        if (styleCache[key] !== undefined) {return styleCache[key];}\r\n        let keyInfo = Properties[key] || {}, value, result;\r\n        for (let i = 0; i < 3; i++) {\r\n          switch (i) {\r\n            case 0:\r\n              if (key !== 'transform') { // the CSS transform behaves strangely\r\n                value = this.css[keyInfo.css || key];\r\n              }\r\n              break;\r\n            case 1:\r\n              value = this.style[key];\r\n              break;\r\n            case 2:\r\n              value = this.attr(key);\r\n              break;\r\n          }\r\n          if (value === 'inherit') {\r\n            result = (this.inherits ? this.inherits.get(key) : keyInfo.initial);\r\n            if (result != null) {return styleCache[key] = result;}\r\n          }\r\n          if (keyInfo.values != null) {\r\n            result = keyInfo.values[value];\r\n            if (result != null) {return styleCache[key] = result;}\r\n          }\r\n          if (value != null) {\r\n            let parsed;\r\n            switch (key) {\r\n              case 'font-size':\r\n                result = this.computeLength(value, this.inherits ? this.inherits.get(key) : keyInfo.initial, undefined, true);\r\n                break;\r\n              case 'baseline-shift':\r\n                result = this.computeLength(value, this.get('font-size'));\r\n                break;\r\n              case 'font-family':\r\n                result = value || undefined;\r\n                break;\r\n              case 'opacity': case 'stroke-opacity': case 'fill-opacity': case 'stop-opacity':\r\n                parsed = parseFloat(value);\r\n                if (!isNaN(parsed)) {\r\n                  result = Math.max(0, Math.min(1, parsed));\r\n                }\r\n                break;\r\n              case 'transform':\r\n                result = parseTranform(value);\r\n                break;\r\n              case 'stroke-dasharray':\r\n                if (value === 'none') {\r\n                  result = [];\r\n                } else if (parsed = this.computeLengthList(value, this.getViewport(), true)) {\r\n                  let sum = 0, error = false;\r\n                  for (let j = 0; j < parsed.length; j++) {\r\n                    if (parsed[j] < 0) {error = true;}\r\n                    sum += parsed[j];\r\n                  }\r\n                  if (!error) {\r\n                    if (parsed.length % 2 === 1) {\r\n                      parsed = parsed.concat(parsed);\r\n                    }\r\n                    result = (sum === 0 ? [] : parsed);\r\n                  }\r\n                }\r\n                break;\r\n              case 'color':\r\n                if (value === 'none' || value === 'transparent') {\r\n                  result = 'none';\r\n                } else {\r\n                  result = parseColor(value);\r\n                }\r\n                break;\r\n              case 'fill': case 'stroke':\r\n                if (value === 'none' || value === 'transparent') {\r\n                  result = 'none';\r\n                } else if (value === 'currentColor') {\r\n                  result = this.get('color');\r\n                } else if (parsed = parseColor(value)) {\r\n                  return parsed;\r\n                } else if (parsed = (value || '').split(' ')) {\r\n                  let object = this.resolveUrl(parsed[0]),\r\n                      fallbackColor = parseColor(parsed[1]);\r\n                  if (object == null) {\r\n                    result = fallbackColor;\r\n                  } else if (object.nodeName === 'linearGradient' || object.nodeName === 'radialGradient') {\r\n                    result = new SvgElemGradient(object, null, fallbackColor);\r\n                  } else if (object.nodeName === 'pattern') {\r\n                    result = new SvgElemPattern(object, null, fallbackColor);\r\n                  } else {\r\n                    result = fallbackColor;\r\n                  }\r\n                }\r\n                break;\r\n              case 'stop-color':\r\n                if (value === 'none' || value === 'transparent') {\r\n                  result = 'none';\r\n                } else if (value === 'currentColor') {\r\n                  result = this.get('color');\r\n                } else {\r\n                  result = parseColor(value);\r\n                }\r\n                break;\r\n              case 'marker-start': case 'marker-mid': case 'marker-end': case 'clip-path': case 'mask':\r\n                if (value === 'none') {\r\n                  result = 'none';\r\n                } else {\r\n                  result = this.resolveUrl(value);\r\n                }\r\n                break;\r\n              case 'stroke-width':\r\n                parsed = this.computeLength(value, this.getViewport());\r\n                if (parsed != null && parsed >= 0) {\r\n                  result = parsed;\r\n                }\r\n                break;\r\n              case 'stroke-miterlimit':\r\n                parsed = parseFloat(value);\r\n                if (parsed != null && parsed >= 1) {\r\n                  result = parsed;\r\n                }\r\n                break;\r\n              case 'word-spacing': case 'letter-spacing':\r\n                result = this.computeLength(value, this.getViewport());\r\n                break;\r\n              case 'stroke-dashoffset':\r\n                result = this.computeLength(value, this.getViewport());\r\n                if (result != null) {\r\n                  if (result < 0) { // fix for crbug.com/660850\r\n                    let dasharray = this.get('stroke-dasharray');\r\n                    for (let j = 0; j < dasharray.length; j++) {result += dasharray[j];}\r\n                  }\r\n                }\r\n                break;\r\n            }\r\n            if (result != null) {return styleCache[key] = result;}\r\n          }\r\n        }\r\n        return styleCache[key] = (keyInfo.inherit && this.inherits ? this.inherits.get(key) : keyInfo.initial);\r\n      };\r\n      this.getChildren = function() {\r\n        if (childrenCache != null) {return childrenCache;}\r\n        let children = [];\r\n        for (let i = 0; i < obj.childNodes.length; i++) {\r\n          let child = obj.childNodes[i];\r\n          if (!child.error && this.allowedChildren.indexOf(child.nodeName) !== -1) {\r\n            children.push(createSVGElement(child, this));\r\n          }\r\n        }\r\n        return childrenCache = children;\r\n      };\r\n      this.getParentVWidth = function() {\r\n        return (this.inherits ? this.inherits.getVWidth(): viewportWidth);\r\n      };\r\n      this.getParentVHeight = function() {\r\n        return (this.inherits ? this.inherits.getVHeight() : viewportHeight);\r\n      };\r\n      this.getParentViewport = function() {\r\n        return Math.sqrt(0.5 * this.getParentVWidth() * this.getParentVWidth() + 0.5 * this.getParentVHeight() * this.getParentVHeight());\r\n      };\r\n      this.getVWidth = function() {\r\n        return this.getParentVWidth();\r\n      };\r\n      this.getVHeight = function() {\r\n        return this.getParentVHeight();\r\n      };\r\n      this.getViewport = function() {\r\n        return Math.sqrt(0.5 * this.getVWidth() * this.getVWidth() + 0.5 * this.getVHeight() * this.getVHeight());\r\n      };\r\n      this.getBoundingBox = function() {\r\n        let shape = this.getBoundingShape();\r\n        return shape.getBoundingBox();\r\n      };\r\n    };\r\n\r\n    var SvgElemStylable = function(obj, inherits) {\r\n      SvgElem.call(this, obj, inherits);\r\n      this.transform = function() {\r\n        doc.transform.apply(doc, this.getTransformation());\r\n      };\r\n      this.clip = function() {\r\n        if (this.get('clip-path') !== 'none') {\r\n          let clipPath = new SvgElemClipPath(this.get('clip-path'), null);\r\n          clipPath.useMask(this.getBoundingBox());\r\n          return true;\r\n        }\r\n      };\r\n      this.mask = function() {\r\n        if (this.get('mask') !== 'none') {\r\n          let mask = new SvgElemMask(this.get('mask'), null);\r\n          mask.useMask(this.getBoundingBox());\r\n          return true;\r\n        }\r\n      };\r\n      this.getFill = function(isClip, isMask) {\r\n        let opacity = this.get('opacity'),\r\n            fill = this.get('fill'),\r\n            fillOpacity = this.get('fill-opacity');\r\n        if (isClip) {return DefaultColors.white;}\r\n        if (fill !== 'none' && opacity && fillOpacity) {\r\n          if (fill instanceof SvgElemGradient || fill instanceof SvgElemPattern) {\r\n            return fill.getPaint(this.getBoundingBox(), fillOpacity * opacity, isClip, isMask);\r\n          }\r\n          return opacityToColor(fill, fillOpacity * opacity, isMask);\r\n        }\r\n      };\r\n      this.getStroke = function(isClip, isMask) {\r\n        let opacity = this.get('opacity'),\r\n            stroke = this.get('stroke'),\r\n            strokeOpacity = this.get('stroke-opacity');\r\n        if (isClip || isEqual(this.get('stroke-width'), 0)) {return;}\r\n        if (stroke !== 'none' && opacity && strokeOpacity) {\r\n          if (stroke instanceof SvgElemGradient || stroke instanceof SvgElemPattern) {\r\n            return stroke.getPaint(this.getBoundingBox(), strokeOpacity * opacity, isClip, isMask);\r\n          }\r\n          return opacityToColor(stroke, strokeOpacity * opacity, isMask);\r\n        }\r\n      };\r\n    };\r\n\r\n    var SvgElemHasChildren = function(obj, inherits) {\r\n      SvgElemStylable.call(this, obj, inherits);\r\n      this.allowedChildren = ['use', 'g', 'a', 'svg', 'image', 'rect', 'circle', 'ellipse', 'line', 'polyline', 'polygon', 'path', 'text'];\r\n      this.getBoundingShape = function() {\r\n        let shape = new SvgShape(),\r\n            children = this.getChildren();\r\n        for (let i = 0; i < children.length; i++) {\r\n          if (children[i].get('display') !== 'none') {\r\n            if (typeof children[i].getBoundingShape === 'function') {\r\n              let childShape = children[i].getBoundingShape().clone();\r\n              if (typeof children[i].getTransformation === 'function') {\r\n                childShape.transform(children[i].getTransformation());\r\n              }\r\n              shape.mergeShape(childShape);\r\n            }\r\n          }\r\n        }\r\n        return shape;\r\n      };\r\n      this.drawChildren = function(isClip, isMask) {\r\n        let children = this.getChildren();\r\n        for (let i = 0; i < children.length; i++) {\r\n          if (children[i].get('display') !== 'none') {\r\n            if (typeof children[i].drawInDocument === 'function') {\r\n              children[i].drawInDocument(isClip, isMask);\r\n            }\r\n          }\r\n        }\r\n      };\r\n    };\r\n\r\n    var SvgElemContainer = function(obj, inherits) {\r\n      SvgElemHasChildren.call(this, obj, inherits);\r\n      this.drawContent = function(isClip, isMask) {\r\n        this.transform();\r\n        let clipped = this.clip(),\r\n            masked = this.mask(),\r\n            group;\r\n        if ((this.get('opacity') < 1 || clipped || masked) && !isClip) {\r\n          group = docBeginGroup(getPageBBox());\r\n        }\r\n        this.drawChildren(isClip, isMask);\r\n        if (group) {\r\n          docEndGroup(group);\r\n          doc.fillOpacity(this.get('opacity'));\r\n          docInsertGroup(group);\r\n        }\r\n      };\r\n    };\r\n\r\n    var SvgElemUse = function(obj, inherits) {\r\n      SvgElemContainer.call(this, obj, inherits);\r\n      let x = this.getLength('x', this.getVWidth(), 0),\r\n          y = this.getLength('y', this.getVHeight(), 0),\r\n          child = this.getUrl('href') || this.getUrl('xlink:href');\r\n      if (child) {child = createSVGElement(child, this);}\r\n      this.getChildren  = function() {\r\n        return child ? [child] : [];\r\n      };\r\n      this.drawInDocument = function(isClip, isMask) {\r\n        doc.save();\r\n        this.drawContent(isClip, isMask);\r\n        doc.restore();\r\n      };\r\n      this.getTransformation = function() {\r\n        return multiplyMatrix(this.get('transform'), [1, 0, 0, 1, x, y]);\r\n      };\r\n    };\r\n\r\n    var SvgElemSymbol = function(obj, inherits) {\r\n      SvgElemContainer.call(this, obj, inherits);\r\n      let width = this.getLength('width', this.getParentVWidth(), this.getParentVWidth()),\r\n          height = this.getLength('height', this.getParentVHeight(), this.getParentVHeight());\r\n      if (inherits instanceof SvgElemUse) {\r\n        width = inherits.getLength('width', inherits.getParentVWidth(), width);\r\n        height = inherits.getLength('height', inherits.getParentVHeight(), height);\r\n      }\r\n      let aspectRatio = (this.attr('preserveAspectRatio') || '').trim(),\r\n          viewBox = this.getViewbox('viewBox', [0, 0, width, height]);\r\n      this.getVWidth = function() {\r\n        return viewBox[2];\r\n      };\r\n      this.getVHeight = function() {\r\n        return viewBox[3];\r\n      };\r\n      this.drawInDocument = function(isClip, isMask) {\r\n        doc.save();\r\n        this.drawContent(isClip, isMask);\r\n        doc.restore();\r\n      };\r\n      this.getTransformation = function() {\r\n        return multiplyMatrix(parseAspectRatio(aspectRatio, width, height, viewBox[2], viewBox[3]), [1, 0, 0, 1, -viewBox[0], -viewBox[1]]);\r\n      };\r\n    };\r\n\r\n    var SvgElemGroup = function(obj, inherits) {\r\n      SvgElemContainer.call(this, obj, inherits);\r\n      this.drawInDocument = function(isClip, isMask) {\r\n        doc.save();\r\n        if (this.link && !isClip && !isMask) {this.addLink();}\r\n        this.drawContent(isClip, isMask);\r\n        doc.restore();\r\n      };\r\n      this.getTransformation = function() {\r\n        return this.get('transform');\r\n      };\r\n    };\r\n\r\n    var SvgElemLink = function(obj, inherits) {\r\n      if (inherits && inherits.isText) {\r\n        SvgElemTspan.call(this, obj, inherits);\r\n        this.allowedChildren = ['textPath', 'tspan', '#text', '#cdata-section', 'a'];\r\n      } else {\r\n        SvgElemGroup.call(this, obj, inherits);\r\n      }\r\n      this.link = this.attr('href') || this.attr('xlink:href');\r\n      this.addLink = function() {\r\n        if (this.link.match(/^(?:[a-z][a-z0-9+.-]*:|\\/\\/)?/i) && this.getChildren().length) {\r\n          let bbox = this.getBoundingShape().transform(getGlobalMatrix()).getBoundingBox();\r\n          docInsertLink(bbox[0], bbox[1], bbox[2], bbox[3], this.link);\r\n        }\r\n      }\r\n    };\r\n\r\n    var SvgElemSvg = function(obj, inherits) {\r\n      SvgElemContainer.call(this, obj, inherits);\r\n      let width = this.getLength('width', this.getParentVWidth(), this.getParentVWidth()),\r\n          height = this.getLength('height', this.getParentVHeight(), this.getParentVHeight()),\r\n          x = this.getLength('x', this.getParentVWidth(), 0),\r\n          y = this.getLength('y', this.getParentVHeight(), 0);\r\n      if (inherits instanceof SvgElemUse) {\r\n        width = inherits.getLength('width', inherits.getParentVWidth(), width);\r\n        height = inherits.getLength('height', inherits.getParentVHeight(), height);\r\n      }\r\n      let aspectRatio = this.attr('preserveAspectRatio'),\r\n          viewBox = this.getViewbox('viewBox', [0, 0, width, height]);\r\n      if (this.isOuterElement && preserveAspectRatio) {\r\n        x = y = 0;\r\n        width = viewportWidth;\r\n        height = viewportHeight;\r\n        aspectRatio = preserveAspectRatio;\r\n      }\r\n      this.getVWidth = function() {\r\n        return viewBox[2];\r\n      };\r\n      this.getVHeight = function() {\r\n        return viewBox[3];\r\n      };\r\n      this.drawInDocument = function(isClip, isMask) {\r\n        doc.save();\r\n        if (this.get('overflow') === 'hidden') {\r\n          new SvgShape().M(x, y).L(x + width, y).L(x + width, y + height).L(x, y + height).Z()\r\n                        .transform(this.get('transform'))\r\n                        .insertInDocument();\r\n          doc.clip();\r\n        }\r\n        this.drawContent(isClip, isMask);\r\n        doc.restore();\r\n      };\r\n      this.getTransformation = function() {\r\n        return multiplyMatrix(\r\n          this.get('transform'),\r\n          [1, 0, 0, 1, x, y],\r\n          parseAspectRatio(aspectRatio, width, height, viewBox[2], viewBox[3]),\r\n          [1, 0, 0, 1, -viewBox[0], -viewBox[1]]\r\n        );\r\n      };\r\n    };\r\n\r\n    var SVGElemImage = function(obj, inherits) {\r\n      SvgElemStylable.call(this, obj, inherits);\r\n      let link = imageCallback(this.attr('href') || this.attr('xlink:href') || ''),\r\n          x = this.getLength('x', this.getVWidth(), 0),\r\n          y = this.getLength('y', this.getVHeight(), 0),\r\n          width = this.getLength('width', this.getVWidth(), 'auto'),\r\n          height = this.getLength('height', this.getVHeight(), 'auto'),\r\n          image;\r\n      try {\r\n        image = doc.openImage(link);\r\n      } catch(e) {\r\n        warningCallback('SVGElemImage: failed to open image \"' + link + '\" in PDFKit');\r\n      }\r\n      if (image) {\r\n        if (width === 'auto' && height !== 'auto') {\r\n          width = height * image.width / image.height;\r\n        } else if (height === 'auto' && width !== 'auto') {\r\n          height = width * image.height / image.width;\r\n        } else if (width === 'auto' && height === 'auto') {\r\n          width = image.width;\r\n          height = image.height;\r\n        }\r\n      }\r\n      if (width === 'auto' || width < 0) {width = 0;}\r\n      if (height === 'auto' || height < 0) {height = 0;}\r\n      this.getTransformation = function() {\r\n        return this.get('transform');\r\n      };\r\n      this.getBoundingShape = function() {\r\n        return new SvgShape().M(x, y).L(x + width, y).M(x + width, y + height).L(x, y + height);\r\n      };\r\n      this.drawInDocument = function(isClip, isMask) {\r\n        if (this.get('visibility') === 'hidden' || !image) {return;}\r\n        doc.save();\r\n        this.transform();\r\n        if (this.get('overflow') === 'hidden') {\r\n          doc.rect(x, y, width, height).clip();\r\n        }\r\n        this.clip();\r\n        this.mask();\r\n        doc.translate(x, y);\r\n        doc.transform.apply(doc, parseAspectRatio(this.attr('preserveAspectRatio'), width, height, image ? image.width : width, image ? image.height : height));\r\n        if (!isClip) {\r\n          doc.fillOpacity(this.get('opacity'));\r\n          doc.image(image, 0, 0);\r\n        } else {\r\n          doc.rect(0, 0, image.width, image.height);\r\n          docFillColor(DefaultColors.white).fill();\r\n        }\r\n        doc.restore();\r\n      };\r\n    };\r\n\r\n    var SvgElemPattern = function(obj, inherits, fallback) {\r\n      SvgElemHasChildren.call(this, obj, inherits);\r\n      this.ref = (function() {\r\n        let ref = this.getUrl('href') || this.getUrl('xlink:href');\r\n        if (ref && ref.nodeName === obj.nodeName) {\r\n          return new SvgElemPattern(ref, inherits, fallback);\r\n        }\r\n      }).call(this);\r\n      let _attr = this.attr;\r\n      this.attr = function(key) {\r\n        let attr = _attr.call(this, key);\r\n        if (attr != null || key === 'href' || key === 'xlink:href') {return attr;}\r\n        return this.ref ? this.ref.attr(key) : null;\r\n      };\r\n      let _getChildren = this.getChildren;\r\n      this.getChildren = function() {\r\n        let children = _getChildren.call(this);\r\n        if (children.length > 0) {return children;}\r\n        return this.ref ? this.ref.getChildren() : [];\r\n      };\r\n      this.getPaint = function(bBox, gOpacity, isClip, isMask) {\r\n        let bBoxUnitsPattern = (this.attr('patternUnits') !== 'userSpaceOnUse'),\r\n            bBoxUnitsContent = (this.attr('patternContentUnits') === 'objectBoundingBox'),\r\n            x = this.getLength('x', (bBoxUnitsPattern ? 1 : this.getParentVWidth()), 0),\r\n            y = this.getLength('y', (bBoxUnitsPattern ? 1 : this.getParentVHeight()), 0),\r\n            width = this.getLength('width', (bBoxUnitsPattern ? 1 : this.getParentVWidth()), 0),\r\n            height = this.getLength('height', (bBoxUnitsPattern ? 1 : this.getParentVHeight()), 0);\r\n        if (bBoxUnitsContent && !bBoxUnitsPattern) { // Use the same units for pattern & pattern content\r\n          x = (x - bBox[0]) / (bBox[2] - bBox[0]) || 0;\r\n          y = (y - bBox[1]) / (bBox[3] - bBox[1]) || 0;\r\n          width = width / (bBox[2] - bBox[0]) || 0;\r\n          height = height / (bBox[3] - bBox[1]) || 0;\r\n        } else if (!bBoxUnitsContent && bBoxUnitsPattern) {\r\n          x = bBox[0] + x * (bBox[2] - bBox[0]);\r\n          y = bBox[1] + y * (bBox[3] - bBox[1]);\r\n          width = width * (bBox[2] - bBox[0]);\r\n          height = height * (bBox[3] - bBox[1]);\r\n        }\r\n        let viewBox = this.getViewbox('viewBox', [0, 0, width, height]),\r\n            aspectRatio = (this.attr('preserveAspectRatio') || '').trim(),\r\n            aspectRatioMatrix = multiplyMatrix(\r\n              parseAspectRatio(aspectRatio, width, height, viewBox[2], viewBox[3], 0),\r\n              [1, 0, 0, 1, -viewBox[0], -viewBox[1]]\r\n            ),\r\n            matrix = parseTranform(this.attr('patternTransform'));\r\n        if (bBoxUnitsContent) {\r\n          matrix = multiplyMatrix([bBox[2] - bBox[0], 0, 0, bBox[3] - bBox[1], bBox[0], bBox[1]], matrix);\r\n        }\r\n        matrix = multiplyMatrix(matrix, [1, 0, 0, 1, x, y]);\r\n        if ((matrix = validateMatrix(matrix)) && (aspectRatioMatrix = validateMatrix(aspectRatioMatrix)) && (width = validateNumber(width)) && (height = validateNumber(height))) {\r\n          let group = docBeginGroup([0, 0, width, height]);\r\n          doc.transform.apply(doc, aspectRatioMatrix);\r\n          this.drawChildren(isClip, isMask);\r\n          docEndGroup(group);\r\n          return [docCreatePattern(group, width, height, matrix), gOpacity];\r\n        } else {\r\n          return fallback ? [fallback[0], fallback[1] * gOpacity] : undefined;\r\n        }\r\n      };\r\n      this.getVWidth = function() {\r\n        let bBoxUnitsPattern = (this.attr('patternUnits') !== 'userSpaceOnUse'),\r\n            width = this.getLength('width', (bBoxUnitsPattern ? 1 : this.getParentVWidth()), 0);\r\n        return this.getViewbox('viewBox', [0, 0, width, 0])[2];\r\n      };\r\n      this.getVHeight = function() {\r\n        let bBoxUnitsPattern = (this.attr('patternUnits') !== 'userSpaceOnUse'),\r\n            height = this.getLength('height', (bBoxUnitsPattern ? 1 : this.getParentVHeight()), 0);\r\n        return this.getViewbox('viewBox', [0, 0, 0, height])[3];\r\n      };\r\n    };\r\n\r\n    var SvgElemGradient = function(obj, inherits, fallback) {\r\n      SvgElem.call(this, obj, inherits);\r\n      this.allowedChildren = ['stop'];\r\n      this.ref = (function() {\r\n        let ref = this.getUrl('href') || this.getUrl('xlink:href');\r\n        if (ref && ref.nodeName === obj.nodeName) {\r\n          return new SvgElemGradient(ref, inherits, fallback);\r\n        }\r\n      }).call(this);\r\n      let _attr = this.attr;\r\n      this.attr = function(key) {\r\n        let attr = _attr.call(this, key);\r\n        if (attr != null || key === 'href' || key === 'xlink:href') {return attr;}\r\n        return this.ref ? this.ref.attr(key) : null;\r\n      };\r\n      let _getChildren = this.getChildren;\r\n      this.getChildren = function() {\r\n        let children = _getChildren.call(this);\r\n        if (children.length > 0) {return children;}\r\n        return this.ref ? this.ref.getChildren() : [];\r\n      };\r\n      this.getPaint = function(bBox, gOpacity, isClip, isMask) {\r\n        let children = this.getChildren();\r\n        if (children.length === 0) {return;}\r\n        if (children.length === 1) {\r\n          let child = children[0],\r\n              stopColor = child.get('stop-color');\r\n          if (stopColor === 'none') {return;}\r\n          return opacityToColor(stopColor, child.get('stop-opacity') * gOpacity, isMask);\r\n        }\r\n        let bBoxUnits = (this.attr('gradientUnits') !== 'userSpaceOnUse'),\r\n            matrix = parseTranform(this.attr('gradientTransform')),\r\n            spread = this.attr('spreadMethod'),\r\n            grad,\r\n            x1, x2, y1, y2, r2,\r\n            nAfter = 0,\r\n            nBefore = 0,\r\n            nTotal = 1;\r\n        if (bBoxUnits) {\r\n          matrix = multiplyMatrix([bBox[2] - bBox[0], 0, 0, bBox[3] - bBox[1], bBox[0], bBox[1]], matrix);\r\n        }\r\n        if (matrix = validateMatrix(matrix)) {\r\n          if (this.name === 'linearGradient') {\r\n            x1 = this.getLength('x1', (bBoxUnits ? 1 : this.getVWidth()), 0);\r\n            x2 = this.getLength('x2', (bBoxUnits ? 1 : this.getVWidth()), (bBoxUnits ? 1 : this.getVWidth()));\r\n            y1 = this.getLength('y1', (bBoxUnits ? 1 : this.getVHeight()), 0);\r\n            y2 = this.getLength('y2', (bBoxUnits ? 1 : this.getVHeight()), 0);\r\n          } else {\r\n            x2 = this.getLength('cx', (bBoxUnits ? 1 : this.getVWidth()), (bBoxUnits ? 0.5 : 0.5 * this.getVWidth()));\r\n            y2 = this.getLength('cy', (bBoxUnits ? 1 : this.getVHeight()), (bBoxUnits ? 0.5 : 0.5 * this.getVHeight()));\r\n            r2 = this.getLength('r', (bBoxUnits ? 1 : this.getViewport()), (bBoxUnits ? 0.5 : 0.5 * this.getViewport()));\r\n            x1 = this.getLength('fx', (bBoxUnits ? 1 : this.getVWidth()), x2);\r\n            y1 = this.getLength('fy', (bBoxUnits ? 1 : this.getVHeight()), y2);\r\n            if (r2 < 0) {\r\n              warningCallback('SvgElemGradient: negative r value');\r\n            }\r\n            let d = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)),\r\n                multiplier = 1;\r\n            if (d > r2) { // according to specification\r\n              multiplier = r2 / d;\r\n              x1 = x2 + (x1 - x2) * multiplier;\r\n              y1 = y2 + (y1 - y2) * multiplier;\r\n            }\r\n            r2 = Math.max(r2, d * multiplier * (1 + 1e-6)); // fix for edge-case gradients see issue #84\r\n          }\r\n          if (spread === 'reflect' || spread === 'repeat') {\r\n            let inv = inverseMatrix(matrix),\r\n                corner1 = transformPoint([bBox[0], bBox[1]], inv),\r\n                corner2 = transformPoint([bBox[2], bBox[1]], inv),\r\n                corner3 = transformPoint([bBox[2], bBox[3]], inv),\r\n                corner4 = transformPoint([bBox[0], bBox[3]], inv);\r\n            if (this.name === 'linearGradient') { // See file 'gradient-repeat-maths.png'\r\n              nAfter  = Math.max((corner1[0] - x2) * (x2 - x1) + (corner1[1] - y2) * (y2 - y1),\r\n                                 (corner2[0] - x2) * (x2 - x1) + (corner2[1] - y2) * (y2 - y1),\r\n                                 (corner3[0] - x2) * (x2 - x1) + (corner3[1] - y2) * (y2 - y1),\r\n                                 (corner4[0] - x2) * (x2 - x1) + (corner4[1] - y2) * (y2 - y1))\r\n                                / (Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\r\n              nBefore = Math.max((corner1[0] - x1) * (x1 - x2) + (corner1[1] - y1) * (y1 - y2),\r\n                                 (corner2[0] - x1) * (x1 - x2) + (corner2[1] - y1) * (y1 - y2),\r\n                                 (corner3[0] - x1) * (x1 - x2) + (corner3[1] - y1) * (y1 - y2),\r\n                                 (corner4[0] - x1) * (x1 - x2) + (corner4[1] - y1) * (y1 - y2))\r\n                                / (Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\r\n            } else {\r\n              nAfter  = Math.sqrt(Math.max(Math.pow(corner1[0] - x2, 2) + Math.pow(corner1[1] - y2, 2),\r\n                                           Math.pow(corner2[0] - x2, 2) + Math.pow(corner2[1] - y2, 2),\r\n                                           Math.pow(corner3[0] - x2, 2) + Math.pow(corner3[1] - y2, 2),\r\n                                           Math.pow(corner4[0] - x2, 2) + Math.pow(corner4[1] - y2, 2))) / r2 - 1;\r\n            }\r\n            nAfter = Math.ceil(nAfter + 0.5); // Add a little more because the stroke can extend outside of the bounding box\r\n            nBefore = Math.ceil(nBefore + 0.5);\r\n            nTotal = nBefore + 1 + nAfter; // How many times the gradient needs to be repeated to fill the object bounding box\r\n          }\r\n          if (this.name === 'linearGradient') {\r\n            grad = doc.linearGradient(x1 - nBefore * (x2 - x1), y1 - nBefore * (y2 - y1), x2 + nAfter * (x2 - x1), y2 + nAfter * (y2 - y1));\r\n          } else {\r\n            grad = doc.radialGradient(x1, y1, 0, x2, y2, r2 + nAfter * r2);\r\n          }\r\n          for (let n = 0; n < nTotal; n++) {\r\n            let offset = 0,\r\n                inOrder = (spread !== 'reflect' || (n - nBefore) % 2 === 0);\r\n            for (let i = 0; i < children.length; i++) {\r\n              let child = children[inOrder ? i : children.length - 1 - i],\r\n                  stopColor = child.get('stop-color');\r\n              if (stopColor === 'none') {stopColor = DefaultColors.transparent;}\r\n              stopColor = opacityToColor(stopColor, child.get('stop-opacity') * gOpacity, isMask);\r\n              offset = Math.max(offset, inOrder ? child.getPercent('offset', 0) : 1 - child.getPercent('offset', 0));\r\n              if (i === 0 && stopColor[0].length === 4) {grad._colorSpace = 'DeviceCMYK';} // Fix until PR #763 is merged into PDFKit\r\n              if (i === 0 && offset > 0) {\r\n                grad.stop((n + 0) / nTotal, stopColor[0], stopColor[1]);\r\n              }\r\n              grad.stop((n + offset) / (nAfter + nBefore + 1), stopColor[0], stopColor[1]);\r\n              if (i === children.length - 1 && offset < 1) {\r\n                grad.stop((n + 1) / nTotal, stopColor[0], stopColor[1]);\r\n              }\r\n            }\r\n          }\r\n          grad.setTransform.apply(grad, matrix);\r\n          return [grad, 1];\r\n        } else {\r\n          return fallback ? [fallback[0], fallback[1] * gOpacity] : undefined;\r\n        }\r\n      }\r\n    };\r\n\r\n    var SvgElemBasicShape = function(obj, inherits) {\r\n      SvgElemStylable.call(this, obj, inherits);\r\n      this.dashScale = 1;\r\n      this.getBoundingShape = function() {\r\n        return this.shape;\r\n      };\r\n      this.getTransformation = function() {\r\n        return this.get('transform');\r\n      };\r\n      this.drawInDocument = function(isClip, isMask) {\r\n        if (this.get('visibility') === 'hidden' || !this.shape) {return;}\r\n        doc.save();\r\n        this.transform();\r\n        this.clip();\r\n        if (!isClip) {\r\n          let masked = this.mask(),\r\n              group;\r\n          if (masked) {\r\n            group = docBeginGroup(getPageBBox());\r\n          }\r\n          let subPaths = this.shape.getSubPaths(),\r\n              fill = this.getFill(isClip, isMask),\r\n              stroke = this.getStroke(isClip, isMask),\r\n              lineWidth = this.get('stroke-width'),\r\n              lineCap = this.get('stroke-linecap');\r\n          if (fill || stroke) {\r\n            if (fill) {\r\n              docFillColor(fill);\r\n            }\r\n            if (stroke) {\r\n              for (let j = 0; j < subPaths.length; j++) {\r\n                if (isEqual(subPaths[j].totalLength, 0)) {\r\n                  if ((lineCap === 'square' || lineCap === 'round') && lineWidth > 0) {\r\n                    if (subPaths[j].startPoint && subPaths[j].startPoint.length > 1) {\r\n                      let x = subPaths[j].startPoint[0],\r\n                          y = subPaths[j].startPoint[1];\r\n                      docFillColor(stroke);\r\n                      if (lineCap === 'square') {\r\n                        doc.rect(x - 0.5 * lineWidth, y - 0.5 * lineWidth, lineWidth, lineWidth);\r\n                      } else if (lineCap === 'round') {\r\n                        doc.circle(x, y, 0.5 * lineWidth);\r\n                      }\r\n                      doc.fill();\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n              let dashArray = this.get('stroke-dasharray'),\r\n                  dashOffset = this.get('stroke-dashoffset');\r\n              if (isNotEqual(this.dashScale, 1)) {\r\n                for (let j = 0; j < dashArray.length; j++) {\r\n                  dashArray[j] *= this.dashScale;\r\n                }\r\n                dashOffset *= this.dashScale;\r\n              }\r\n              docStrokeColor(stroke);\r\n              doc.lineWidth(lineWidth)\r\n                 .miterLimit(this.get('stroke-miterlimit'))\r\n                 .lineJoin(this.get('stroke-linejoin'))\r\n                 .lineCap(lineCap)\r\n                 .dash(dashArray, {phase: dashOffset});\r\n            }\r\n            for (let j = 0; j < subPaths.length; j++) {\r\n              if (subPaths[j].totalLength > 0) {\r\n                subPaths[j].insertInDocument();\r\n              }\r\n            }\r\n            if (fill && stroke) {\r\n              doc.fillAndStroke(this.get('fill-rule'));\r\n            } else if (fill) {\r\n              doc.fill(this.get('fill-rule'));\r\n            } else if (stroke) {\r\n              doc.stroke();\r\n            }\r\n          }\r\n          let markerStart = this.get('marker-start'),\r\n              markerMid = this.get('marker-mid'),\r\n              markerEnd = this.get('marker-end');\r\n          if (markerStart !== 'none' || markerMid !== 'none' || markerEnd !== 'none') {\r\n            let markersPos = this.shape.getMarkers();\r\n            if (markerStart !== 'none') {\r\n              let marker = new SvgElemMarker(markerStart, null);\r\n              marker.drawMarker(false, isMask, markersPos[0], lineWidth);\r\n            }\r\n            if (markerMid !== 'none') {\r\n              for (let i = 1; i < markersPos.length - 1; i++) {\r\n                let marker = new SvgElemMarker(markerMid, null);\r\n                marker.drawMarker(false, isMask, markersPos[i], lineWidth);\r\n              }\r\n            }\r\n            if (markerEnd !== 'none') {\r\n              let marker = new SvgElemMarker(markerEnd, null);\r\n              marker.drawMarker(false, isMask, markersPos[markersPos.length - 1], lineWidth);\r\n            }\r\n          }\r\n          if (group) {\r\n            docEndGroup(group);\r\n            docInsertGroup(group);\r\n          }\r\n        } else {\r\n          this.shape.insertInDocument();\r\n          docFillColor(DefaultColors.white);\r\n          doc.fill(this.get('clip-rule'));\r\n        }\r\n        doc.restore();\r\n      };\r\n    };\r\n\r\n    var SvgElemRect = function(obj, inherits) {\r\n      SvgElemBasicShape.call(this, obj, inherits);\r\n      let x = this.getLength('x', this.getVWidth(), 0),\r\n          y = this.getLength('y', this.getVHeight(), 0),\r\n          w = this.getLength('width', this.getVWidth(), 0),\r\n          h = this.getLength('height', this.getVHeight(), 0),\r\n          rx = this.getLength('rx', this.getVWidth()),\r\n          ry = this.getLength('ry', this.getVHeight());\r\n      if (rx === undefined && ry === undefined) {rx = ry = 0;}\r\n      else if (rx === undefined && ry !== undefined) {rx = ry;}\r\n      else if (rx !== undefined && ry === undefined) {ry = rx;}\r\n      if (w > 0 && h > 0) {\r\n        if (rx && ry) {\r\n          rx = Math.min(rx, 0.5 * w);\r\n          ry = Math.min(ry, 0.5 * h);\r\n          this.shape = new SvgShape().M(x + rx, y).L(x + w - rx, y).A(rx, ry, 0, 0, 1, x + w, y + ry)\r\n                            .L(x + w, y + h - ry).A(rx, ry, 0, 0, 1, x + w - rx, y + h).L(x + rx, y + h)\r\n                            .A(rx, ry, 0, 0, 1, x, y + h - ry).L(x, y + ry).A(rx, ry, 0, 0, 1, x + rx, y).Z();\r\n        } else {\r\n          this.shape = new SvgShape().M(x, y).L(x + w, y).L(x + w, y + h).L(x, y + h).Z();\r\n        }\r\n      } else {\r\n        this.shape = new SvgShape();\r\n      }\r\n    };\r\n\r\n    var SvgElemCircle = function(obj, inherits) {\r\n      SvgElemBasicShape.call(this, obj, inherits);\r\n      let cx = this.getLength('cx', this.getVWidth(), 0),\r\n          cy = this.getLength('cy', this.getVHeight(), 0),\r\n          r = this.getLength('r', this.getViewport(), 0);\r\n      if (r > 0) {\r\n        this.shape = new SvgShape().M(cx + r, cy).A(r, r, 0, 0, 1, cx - r, cy).A(r, r, 0, 0, 1, cx + r, cy).Z();\r\n      } else {\r\n        this.shape = new SvgShape();\r\n      }\r\n    };\r\n\r\n    var SvgElemEllipse = function(obj, inherits) {\r\n      SvgElemBasicShape.call(this, obj, inherits);\r\n      let cx = this.getLength('cx', this.getVWidth(), 0),\r\n          cy = this.getLength('cy', this.getVHeight(), 0),\r\n          rx = this.getLength('rx', this.getVWidth(), 0),\r\n          ry = this.getLength('ry', this.getVHeight(), 0);\r\n      if (rx > 0 && ry > 0) {\r\n        this.shape = new SvgShape().M(cx + rx, cy).A(rx, ry, 0, 0, 1, cx - rx, cy).A(rx, ry, 0, 0, 1, cx + rx, cy).Z();\r\n      } else {\r\n        this.shape = new SvgShape();\r\n      }\r\n    };\r\n\r\n    var SvgElemLine = function(obj, inherits) {\r\n      SvgElemBasicShape.call(this, obj, inherits);\r\n      let x1 = this.getLength('x1', this.getVWidth(), 0),\r\n          y1 = this.getLength('y1', this.getVHeight(), 0),\r\n          x2 = this.getLength('x2', this.getVWidth(), 0),\r\n          y2 = this.getLength('y2', this.getVHeight(), 0);\r\n      this.shape = new SvgShape().M(x1, y1).L(x2, y2);\r\n    };\r\n\r\n    var SvgElemPolyline = function(obj, inherits) {\r\n      SvgElemBasicShape.call(this, obj, inherits);\r\n      let points = this.getNumberList('points');\r\n      this.shape = new SvgShape();\r\n      for (let i = 0; i < points.length - 1; i += 2) {\r\n        if (i === 0) {\r\n          this.shape.M(points[i], points[i+1]);\r\n        } else {\r\n          this.shape.L(points[i], points[i+1]);\r\n        }\r\n      }\r\n      if (points.error) {warningCallback('SvgElemPolygon: unexpected string ' + points.error);}\r\n      if (points.length % 2 === 1) {warningCallback('SvgElemPolyline: uneven number of coordinates');}\r\n    };\r\n\r\n    var SvgElemPolygon = function(obj, inherits) {\r\n      SvgElemBasicShape.call(this, obj, inherits);\r\n      let points = this.getNumberList('points');\r\n      this.shape = new SvgShape();\r\n      for (let i = 0; i < points.length - 1; i += 2) {\r\n        if (i === 0) {\r\n          this.shape.M(points[i], points[i+1]);\r\n        } else {\r\n          this.shape.L(points[i], points[i+1]);\r\n        }\r\n      }\r\n      this.shape.Z();\r\n      if (points.error) {warningCallback('SvgElemPolygon: unexpected string ' + points.error);}\r\n      if (points.length % 2 === 1) {warningCallback('SvgElemPolygon: uneven number of coordinates');}\r\n    };\r\n\r\n    var SvgElemPath = function(obj, inherits) {\r\n      SvgElemBasicShape.call(this, obj, inherits);\r\n      this.shape = new SvgShape().path(this.attr('d'));\r\n      let pathLength = this.getLength('pathLength', this.getViewport());\r\n      this.pathLength = pathLength > 0 ? pathLength : undefined;\r\n      this.dashScale = (this.pathLength !== undefined ? this.shape.totalLength / this.pathLength : 1);\r\n    };\r\n\r\n    var SvgElemMarker = function(obj, inherits) {\r\n      SvgElemHasChildren.call(this, obj, inherits);\r\n      let width = this.getLength('markerWidth', this.getParentVWidth(), 3),\r\n          height = this.getLength('markerHeight', this.getParentVHeight(), 3),\r\n          viewBox = this.getViewbox('viewBox', [0, 0, width, height]);\r\n      this.getVWidth = function() {\r\n        return viewBox[2];\r\n      };\r\n      this.getVHeight = function() {\r\n        return viewBox[3];\r\n      };\r\n      this.drawMarker = function(isClip, isMask, posArray, strokeWidth) {\r\n        doc.save();\r\n        let orient = this.attr('orient'),\r\n            units = this.attr('markerUnits'),\r\n            rotate = (orient === 'auto' ? posArray[2] : (parseFloat(orient) || 0) * Math.PI / 180),\r\n            scale = (units === 'userSpaceOnUse' ? 1 : strokeWidth);\r\n        doc.transform(Math.cos(rotate) * scale, Math.sin(rotate) * scale, -Math.sin(rotate) * scale, Math.cos(rotate) * scale, posArray[0], posArray[1]);\r\n        let refX = this.getLength('refX', this.getVWidth(), 0),\r\n            refY = this.getLength('refY', this.getVHeight(), 0),\r\n            aspectRatioMatrix = parseAspectRatio(this.attr('preserveAspectRatio'), width, height, viewBox[2], viewBox[3], 0.5);\r\n        if (this.get('overflow') === 'hidden') {\r\n          doc.rect(aspectRatioMatrix[0] * (viewBox[0] + viewBox[2] / 2 - refX) - width / 2, aspectRatioMatrix[3] * (viewBox[1] + viewBox[3] / 2 - refY) - height / 2, width, height).clip();\r\n        }\r\n        doc.transform.apply(doc, aspectRatioMatrix);\r\n        doc.translate(-refX, -refY);\r\n        let group;\r\n        if (this.get('opacity') < 1 && !isClip) {\r\n          group = docBeginGroup(getPageBBox());\r\n        }\r\n        this.drawChildren(isClip, isMask);\r\n        if (group) {\r\n          docEndGroup(group);\r\n          doc.fillOpacity(this.get('opacity'));\r\n          docInsertGroup(group);\r\n        }\r\n        doc.restore();\r\n      };\r\n    };\r\n\r\n    var SvgElemClipPath = function(obj, inherits) {\r\n      SvgElemHasChildren.call(this, obj, inherits);\r\n      this.useMask = function(bBox) {\r\n        let group = docBeginGroup(getPageBBox());\r\n        doc.save();\r\n        if (this.attr('clipPathUnits') === 'objectBoundingBox') {\r\n          doc.transform(bBox[2] - bBox[0], 0, 0, bBox[3] - bBox[1], bBox[0], bBox[1]);\r\n        }\r\n        this.clip();\r\n        this.drawChildren(true, false);\r\n        doc.restore();\r\n        docEndGroup(group);\r\n        docApplyMask(group, true);\r\n      };\r\n    };\r\n\r\n    var SvgElemMask = function(obj, inherits) {\r\n      SvgElemHasChildren.call(this, obj, inherits);\r\n      this.useMask = function(bBox) {\r\n        let group = docBeginGroup(getPageBBox());\r\n        doc.save();\r\n        let x, y, w, h;\r\n        if (this.attr('maskUnits') === 'userSpaceOnUse') {\r\n          x = this.getLength('x', this.getVWidth(), -0.1 * (bBox[2] - bBox[0]) + bBox[0]);\r\n          y = this.getLength('y', this.getVHeight(), -0.1 * (bBox[3] - bBox[1]) + bBox[1]);\r\n          w = this.getLength('width', this.getVWidth(), 1.2 * (bBox[2] - bBox[0]));\r\n          h = this.getLength('height', this.getVHeight(), 1.2 * (bBox[3] - bBox[1]));\r\n        } else {\r\n          x = this.getLength('x', this.getVWidth(), -0.1) * (bBox[2] - bBox[0]) + bBox[0];\r\n          y = this.getLength('y', this.getVHeight(), -0.1) * (bBox[3] - bBox[1]) + bBox[1];\r\n          w = this.getLength('width', this.getVWidth(), 1.2) * (bBox[2] - bBox[0]);\r\n          h = this.getLength('height', this.getVHeight(), 1.2) * (bBox[3] - bBox[1]);\r\n        }\r\n        doc.rect(x, y, w, h).clip();\r\n        if (this.attr('maskContentUnits') === 'objectBoundingBox') {\r\n          doc.transform(bBox[2] - bBox[0], 0, 0, bBox[3] - bBox[1], bBox[0], bBox[1]);\r\n        }\r\n        this.clip();\r\n        this.drawChildren(false, true);\r\n        doc.restore();\r\n        docEndGroup(group);\r\n        docApplyMask(group, true);\r\n      };\r\n    };\r\n\r\n    var SvgElemTextContainer = function(obj, inherits) {\r\n      SvgElemStylable.call(this, obj, inherits);\r\n      this.allowedChildren = ['tspan', '#text', '#cdata-section', 'a'];\r\n      this.isText = true;\r\n      this.getBoundingShape = function() {\r\n        let shape = new SvgShape();\r\n        for (let i = 0; i < this._pos.length; i++) {\r\n          let pos = this._pos[i];\r\n          if (!pos.hidden) {\r\n            let dx0 = pos.ascent * Math.sin(pos.rotate), dy0 = -pos.ascent * Math.cos(pos.rotate),\r\n                dx1 = pos.descent * Math.sin(pos.rotate), dy1 = -pos.descent * Math.cos(pos.rotate),\r\n                dx2 = pos.width * Math.cos(pos.rotate), dy2 = pos.width * Math.sin(pos.rotate);\r\n            shape.M(pos.x + dx0, pos.y + dy0).L(pos.x + dx0 + dx2, pos.y + dy0 + dy2)\r\n                 .M(pos.x + dx1 + dx2, pos.y + dy1 + dy2).L(pos.x + dx1, pos.y + dy1);\r\n          }\r\n        }\r\n        return shape;\r\n      };\r\n      this.drawTextInDocument = function(isClip, isMask) {\r\n        if (this.link && !isClip && !isMask) {this.addLink();}\r\n        if (this.get('text-decoration') === 'underline') {\r\n          this.decorate(0.05 * this._font.size, -0.075 * this._font.size, isClip, isMask);\r\n        }\r\n        if (this.get('text-decoration') === 'overline') {\r\n          this.decorate(0.05 * this._font.size, getAscent(this._font.font, this._font.size) + 0.075 * this._font.size, isClip, isMask);\r\n        }\r\n        let fill = this.getFill(isClip, isMask),\r\n            stroke = this.getStroke(isClip, isMask),\r\n            strokeWidth = this.get('stroke-width');\r\n        if (this._font.fauxBold) {\r\n          if (!stroke) {\r\n            stroke = fill;\r\n            strokeWidth = this._font.size * 0.03;\r\n          } else {\r\n            strokeWidth += this._font.size * 0.03;\r\n          }\r\n        }\r\n        let children = this.getChildren();\r\n        for (let i = 0; i < children.length; i++) {\r\n          let childElem = children[i];\r\n          switch(childElem.name) {\r\n            case 'tspan': case 'textPath': case 'a':\r\n              if (childElem.get('display') !== 'none') {\r\n                childElem.drawTextInDocument(isClip, isMask);\r\n              }\r\n              break;\r\n            case '#text': case '#cdata-section':\r\n              if (this.get('visibility') === 'hidden') {continue;}\r\n              if (fill || stroke || isClip) {\r\n                if (fill) {\r\n                  docFillColor(fill);\r\n                }\r\n                if (stroke && strokeWidth) {\r\n                  docStrokeColor(stroke);\r\n                  doc.lineWidth(strokeWidth)\r\n                     .miterLimit(this.get('stroke-miterlimit'))\r\n                     .lineJoin(this.get('stroke-linejoin'))\r\n                     .lineCap(this.get('stroke-linecap'))\r\n                     .dash(this.get('stroke-dasharray'), {phase:this.get('stroke-dashoffset')});\r\n                }\r\n                docBeginText(this._font.font, this._font.size);\r\n                docSetTextMode(!!fill, !!stroke);\r\n                for (let j = 0, pos = childElem._pos; j < pos.length; j++) {\r\n                  if (!pos[j].hidden && isNotEqual(pos[j].width, 0)) {\r\n                    let cos = Math.cos(pos[j].rotate), sin = Math.sin(pos[j].rotate), skew = (this._font.fauxItalic ? -0.25 : 0);\r\n                    docSetTextMatrix(cos * pos[j].scale, sin * pos[j].scale, cos * skew - sin, sin * skew + cos, pos[j].x, pos[j].y);\r\n                    docWriteGlyph(pos[j].glyph);\r\n                  }\r\n                }\r\n                docEndText();\r\n              }\r\n              break;\r\n          }\r\n        }\r\n        if (this.get('text-decoration') === 'line-through') {\r\n          this.decorate(0.05 * this._font.size, 0.5 * (getAscent(this._font.font, this._font.size) + getDescent(this._font.font, this._font.size)), isClip, isMask);\r\n        }\r\n      };\r\n      this.decorate = function(lineWidth, linePosition, isClip, isMask) {\r\n        let fill = this.getFill(isClip, isMask),\r\n            stroke = this.getStroke(isClip, isMask);\r\n        if (fill) {\r\n          docFillColor(fill);\r\n        }\r\n        if (stroke) {\r\n          docStrokeColor(stroke);\r\n          doc.lineWidth(this.get('stroke-width'))\r\n             .miterLimit(this.get('stroke-miterlimit'))\r\n             .lineJoin(this.get('stroke-linejoin'))\r\n             .lineCap(this.get('stroke-linecap'))\r\n             .dash(this.get('stroke-dasharray'), {phase:this.get('stroke-dashoffset')});\r\n        }\r\n        for (let j = 0, pos = this._pos; j < pos.length; j++) {\r\n          if (!pos[j].hidden && isNotEqual(pos[j].width, 0)) {\r\n            let dx0 = (linePosition + lineWidth / 2) * Math.sin(pos[j].rotate),\r\n                dy0 = -(linePosition + lineWidth / 2) * Math.cos(pos[j].rotate),\r\n                dx1 = (linePosition - lineWidth / 2) * Math.sin(pos[j].rotate),\r\n                dy1 = -(linePosition - lineWidth / 2) * Math.cos(pos[j].rotate),\r\n                dx2 = pos[j].width * Math.cos(pos[j].rotate),\r\n                dy2 = pos[j].width * Math.sin(pos[j].rotate);\r\n            new SvgShape().M(pos[j].x + dx0, pos[j].y + dy0)\r\n                          .L(pos[j].x + dx0 + dx2, pos[j].y + dy0 + dy2)\r\n                          .L(pos[j].x + dx1 + dx2, pos[j].y + dy1 + dy2)\r\n                          .L(pos[j].x + dx1, pos[j].y + dy1).Z()\r\n                          .insertInDocument();\r\n            if (fill && stroke) {\r\n              doc.fillAndStroke();\r\n            } else if (fill) {\r\n              doc.fill();\r\n            } else if (stroke) {\r\n              doc.stroke();\r\n            }\r\n          }\r\n        }\r\n      };\r\n    };\r\n\r\n    var SvgElemTextNode = function(obj, inherits) {\r\n      this.name = obj.nodeName;\r\n      this.textContent = obj.nodeValue;\r\n    };\r\n\r\n    var SvgElemTspan = function(obj, inherits) {\r\n      SvgElemTextContainer.call(this, obj, inherits);\r\n    };\r\n\r\n    var SvgElemTextPath = function(obj, inherits) {\r\n      SvgElemTextContainer.call(this, obj, inherits);\r\n      let pathObject, pathLength, temp;\r\n      if ((temp = this.attr('path')) && temp.trim() !== '') {\r\n        let pathLength = this.getLength('pathLength', this.getViewport());\r\n        this.pathObject = new SvgShape().path(temp);\r\n        this.pathLength = pathLength > 0 ? pathLength : this.pathObject.totalLength;\r\n        this.pathScale = this.pathObject.totalLength / this.pathLength;\r\n      } else if ((temp = this.getUrl('href') || this.getUrl('xlink:href')) && temp.nodeName === 'path') {\r\n        let pathElem = new SvgElemPath(temp, this);\r\n        this.pathObject = pathElem.shape.clone().transform(pathElem.get('transform'));\r\n        this.pathLength = this.chooseValue(pathElem.pathLength, this.pathObject.totalLength);\r\n        this.pathScale = this.pathObject.totalLength / this.pathLength;\r\n      }\r\n    };\r\n\r\n    var SvgElemText = function(obj, inherits) {\r\n      SvgElemTextContainer.call(this, obj, inherits);\r\n      this.allowedChildren = ['textPath', 'tspan', '#text', '#cdata-section', 'a'];\r\n      (function (textParentElem) {\r\n        let processedText = '', remainingText = obj.textContent, textPaths = [], currentChunk = [], currentAnchor, currentDirection, currentX = 0, currentY = 0;\r\n        function doAnchoring() {\r\n          if (currentChunk.length) {\r\n            let last = currentChunk[currentChunk.length - 1];\r\n            let first = currentChunk[0]\r\n            let width = last.x + last.width - first.x;\r\n            let anchordx = {'startltr': 0, 'middleltr': 0.5, 'endltr': 1, 'startrtl': 1, 'middlertl': 0.5, 'endrtl': 0}[currentAnchor + currentDirection] * width || 0;\r\n            for (let i = 0; i < currentChunk.length; i++) {\r\n              currentChunk[i].x -= anchordx;\r\n            }\r\n          }\r\n          currentChunk = [];\r\n        }\r\n        function adjustLength(pos, length, spacingAndGlyphs) {\r\n          let firstChar = pos[0], lastChar = pos[pos.length - 1],\r\n              startX = firstChar.x, endX = lastChar.x + lastChar.width;\r\n          if (spacingAndGlyphs) {\r\n            let textScale = length / (endX - startX);\r\n            if (textScale > 0 && textScale < Infinity) {\r\n              for (let j = 0; j < pos.length; j++) {\r\n                pos[j].x = startX + textScale * (pos[j].x - startX);\r\n                pos[j].scale *= textScale;\r\n                pos[j].width *= textScale;\r\n              }\r\n            }\r\n          } else {\r\n            if (pos.length >= 2) {\r\n              let spaceDiff = (length - (endX - startX)) / (pos.length - 1);\r\n              for (let j = 0; j < pos.length; j++) {\r\n                pos[j].x += j * spaceDiff;\r\n              }\r\n            }\r\n          }\r\n          currentX += length - (endX - startX);\r\n        }\r\n        function recursive(currentElem, parentElem) {\r\n          currentElem._x = combineArrays(currentElem.getLengthList('x', currentElem.getVWidth()), (parentElem ? parentElem._x.slice(parentElem._pos.length) : []));\r\n          currentElem._y = combineArrays(currentElem.getLengthList('y', currentElem.getVHeight()), (parentElem ? parentElem._y.slice(parentElem._pos.length) : []));\r\n          currentElem._dx = combineArrays(currentElem.getLengthList('dx', currentElem.getVWidth()), (parentElem ? parentElem._dx.slice(parentElem._pos.length) : []));\r\n          currentElem._dy = combineArrays(currentElem.getLengthList('dy', currentElem.getVHeight()), (parentElem ? parentElem._dy.slice(parentElem._pos.length) : []));\r\n          currentElem._rot = combineArrays(currentElem.getNumberList('rotate'), (parentElem ? parentElem._rot.slice(parentElem._pos.length) : []));\r\n          currentElem._defRot = currentElem.chooseValue(currentElem._rot[currentElem._rot.length - 1], parentElem && parentElem._defRot, 0);\r\n          if (currentElem.name === 'textPath') {currentElem._y = [];}\r\n          let fontOptions = {fauxItalic: false, fauxBold: false},\r\n              fontNameorLink = fontCallback(currentElem.get('font-family'), currentElem.get('font-weight') === 'bold', currentElem.get('font-style') === 'italic', fontOptions);\r\n          try {\r\n            doc.font(fontNameorLink);\r\n          } catch(e) {\r\n            warningCallback('SVGElemText: failed to open font \"' + fontNameorLink + '\" in PDFKit');\r\n          }\r\n          currentElem._pos = [];\r\n          currentElem._index = 0;\r\n          currentElem._font = {font: doc._font, size: currentElem.get('font-size'), fauxItalic: fontOptions.fauxItalic, fauxBold: fontOptions.fauxBold};\r\n          let textLength = currentElem.getLength('textLength', currentElem.getVWidth(), undefined),\r\n              spacingAndGlyphs = currentElem.attr('lengthAdjust') === 'spacingAndGlyphs',\r\n              wordSpacing = currentElem.get('word-spacing'),\r\n              letterSpacing = currentElem.get('letter-spacing'),\r\n              textAnchor = currentElem.get('text-anchor'),\r\n              textDirection = currentElem.get('direction'),\r\n              baseline = getBaseline(currentElem._font.font, currentElem._font.size, currentElem.get('alignment-baseline') || currentElem.get('dominant-baseline'), currentElem.get('baseline-shift'));\r\n          if (currentElem.name === 'textPath') {\r\n            doAnchoring();\r\n            currentX = currentY = 0;\r\n          }\r\n          let children = currentElem.getChildren();\r\n          for (let i = 0; i < children.length; i++) {\r\n            let childElem = children[i];\r\n            switch(childElem.name) {\r\n              case 'tspan': case 'textPath': case 'a':\r\n                recursive(childElem, currentElem);\r\n                break;\r\n              case '#text': case '#cdata-section':\r\n                let rawText = childElem.textContent, renderedText = rawText, words;\r\n                childElem._font = currentElem._font;\r\n                childElem._pos = [];\r\n                remainingText = remainingText.substring(rawText.length);\r\n                if (currentElem.get('xml:space') === 'preserve') {\r\n                  renderedText = renderedText.replace(/[\\s]/g, ' ');\r\n                } else {\r\n                  renderedText = renderedText.replace(/[\\s]+/g, ' ');\r\n                  if (processedText.match(/[\\s]$|^$/)) {renderedText = renderedText.replace(/^[\\s]/, '');}\r\n                  if (remainingText.match(/^[\\s]*$/)) {renderedText = renderedText.replace(/[\\s]$/, '');}\r\n                }\r\n                processedText += rawText;\r\n                if (wordSpacing === 0) {\r\n                  words = [renderedText];\r\n                } else {\r\n                  words = renderedText.split(/(\\s)/);\r\n                }\r\n                for (let w = 0; w < words.length; w++) {\r\n                  let pos = getTextPos(currentElem._font.font, currentElem._font.size, words[w]);\r\n                  for (let j = 0; j < pos.length; j++) {\r\n                    let index = currentElem._index,\r\n                        xAttr = currentElem._x[index],\r\n                        yAttr = currentElem._y[index],\r\n                        dxAttr = currentElem._dx[index],\r\n                        dyAttr = currentElem._dy[index],\r\n                        rotAttr = currentElem._rot[index],\r\n                        continuous = !(w === 0 && j === 0);\r\n                    if (xAttr !== undefined) {continuous = false; doAnchoring(); currentX = xAttr;}\r\n                    if (yAttr !== undefined) {continuous = false; doAnchoring(); currentY = yAttr;}\r\n                    if (dxAttr !== undefined) {continuous = false; currentX += dxAttr;}\r\n                    if (dyAttr !== undefined) {continuous = false; currentY += dyAttr;}\r\n                    if (rotAttr !== undefined || currentElem._defRot !== 0) {continuous = false;}\r\n                    let position = {\r\n                      glyph: pos[j].glyph,\r\n                      rotate: (Math.PI / 180) * currentElem.chooseValue(rotAttr, currentElem._defRot),\r\n                      x: currentX + pos[j].xOffset,\r\n                      y: currentY + baseline + pos[j].yOffset,\r\n                      width: pos[j].width,\r\n                      ascent: getAscent(currentElem._font.font, currentElem._font.size),\r\n                      descent: getDescent(currentElem._font.font, currentElem._font.size),\r\n                      scale: 1,\r\n                      hidden: false,\r\n                      continuous: continuous\r\n                    };\r\n                    currentChunk.push(position);\r\n                    childElem._pos.push(position);\r\n                    currentElem._pos.push(position);\r\n                    currentElem._index += pos[j].unicode.length;\r\n                    if (currentChunk.length === 1) {\r\n                      currentAnchor = textAnchor;\r\n                      currentDirection = textDirection;\r\n                    }\r\n                    currentX += pos[j].xAdvance + letterSpacing;\r\n                    currentY += pos[j].yAdvance;\r\n                  }\r\n                  if (words[w] === ' ') {\r\n                    currentX += wordSpacing;\r\n                  }\r\n                }\r\n                break;\r\n              default:\r\n                remainingText = remainingText.substring(childElem.textContent.length);\r\n            }\r\n          }\r\n          if (textLength && currentElem._pos.length) {\r\n            adjustLength(currentElem._pos, textLength, spacingAndGlyphs);\r\n          }\r\n          if (currentElem.name === 'textPath' || currentElem.name === 'text') {\r\n            doAnchoring();\r\n          }\r\n          if (currentElem.name === 'textPath') {\r\n            textPaths.push(currentElem);\r\n            let pathObject = currentElem.pathObject;\r\n            if (pathObject) {\r\n              currentX = pathObject.endPoint[0]; currentY = pathObject.endPoint[1];\r\n            }\r\n          }\r\n          if (parentElem) {\r\n            parentElem._pos = parentElem._pos.concat(currentElem._pos);\r\n            parentElem._index += currentElem._index;\r\n          }\r\n        }\r\n        function textOnPath(currentElem) {\r\n          let pathObject = currentElem.pathObject,\r\n              pathLength = currentElem.pathLength,\r\n              pathScale = currentElem.pathScale;\r\n          if (pathObject) {\r\n            let textOffset = currentElem.getLength('startOffset', pathLength, 0);\r\n            for (let j = 0; j < currentElem._pos.length; j++) {\r\n              let charMidX = textOffset + currentElem._pos[j].x + 0.5 * currentElem._pos[j].width;\r\n              if (charMidX > pathLength || charMidX < 0) {\r\n                currentElem._pos[j].hidden = true;\r\n              } else {\r\n                let pointOnPath = pathObject.getPointAtLength(charMidX * pathScale);\r\n                if (isNotEqual(pathScale, 1)) {\r\n                  currentElem._pos[j].scale *= pathScale;\r\n                  currentElem._pos[j].width *= pathScale;\r\n                }\r\n                currentElem._pos[j].x = pointOnPath[0] - 0.5 * currentElem._pos[j].width * Math.cos(pointOnPath[2]) - currentElem._pos[j].y * Math.sin(pointOnPath[2]);\r\n                currentElem._pos[j].y = pointOnPath[1] - 0.5 * currentElem._pos[j].width * Math.sin(pointOnPath[2]) + currentElem._pos[j].y * Math.cos(pointOnPath[2]);\r\n                currentElem._pos[j].rotate = pointOnPath[2] + currentElem._pos[j].rotate;\r\n                currentElem._pos[j].continuous = false;\r\n              }\r\n            }\r\n          } else {\r\n            for (let j = 0; j < currentElem._pos.length; j++) {\r\n              currentElem._pos[j].hidden = true;\r\n            }\r\n          }\r\n        }\r\n        recursive(textParentElem, null);\r\n        for (let i = 0; i < textPaths.length; i++) {\r\n          textOnPath(textPaths[i]);\r\n        }\r\n      })(this);\r\n      this.getTransformation = function() {\r\n        return this.get('transform');\r\n      };\r\n      this.drawInDocument = function(isClip, isMask) {\r\n        doc.save();\r\n        this.transform();\r\n        this.clip();\r\n        let masked = this.mask(), group;\r\n        if (masked) {\r\n          group = docBeginGroup(getPageBBox());\r\n        }\r\n        this.drawTextInDocument(isClip, isMask);\r\n        if (group) {\r\n          docEndGroup(group);\r\n          docInsertGroup(group);\r\n        }\r\n        doc.restore();\r\n      };\r\n    };\r\n\r\n    options = options || {};\r\n    var pxToPt = options.assumePt ? 1 : (72/96), // 1px = 72/96pt, but only if assumePt is false\r\n        viewportWidth = (options.width || doc.page.width) / pxToPt,\r\n        viewportHeight = (options.height || doc.page.height) / pxToPt,\r\n        preserveAspectRatio = options.preserveAspectRatio || null, // default to null so that the attr can override if not passed\r\n        useCSS = options.useCSS && typeof SVGElement !== 'undefined' && svg instanceof SVGElement && typeof getComputedStyle === 'function',\r\n        warningCallback = options.warningCallback,\r\n        fontCallback = options.fontCallback,\r\n        imageCallback = options.imageCallback,\r\n        colorCallback = options.colorCallback,\r\n        documentCallback = options.documentCallback,\r\n        precision = Math.ceil(Math.max(1, options.precision)) || 3,\r\n        groupStack = [],\r\n        documentCache = {},\r\n        links = [],\r\n        styleRules = [];\r\n\r\n    if (typeof warningCallback !== 'function') {\r\n      warningCallback = function(str) {\r\n        if (typeof console !== undefined && typeof console.warn === 'function') {console.warn(str);}\r\n      };\r\n    }\r\n    if (typeof fontCallback !== 'function') {\r\n      fontCallback = function(family, bold, italic, fontOptions) {\r\n        // Check if the font is already registered in the document\r\n        if (bold && italic) {\r\n          if (doc._registeredFonts.hasOwnProperty(family + '-BoldItalic')) {\r\n            return family + '-BoldItalic';\r\n          } else if (doc._registeredFonts.hasOwnProperty(family + '-Italic')) {\r\n            fontOptions.fauxBold = true;\r\n            return family + '-Italic';\r\n          } else if (doc._registeredFonts.hasOwnProperty(family + '-Bold')) {\r\n            fontOptions.fauxItalic = true;\r\n            return family + '-Bold';\r\n          } else if (doc._registeredFonts.hasOwnProperty(family)) {\r\n            fontOptions.fauxBold = true;\r\n            fontOptions.fauxItalic = true;\r\n            return family;\r\n          }\r\n        }\r\n        if (bold && !italic) {\r\n          if (doc._registeredFonts.hasOwnProperty(family + '-Bold')) {\r\n            return family + '-Bold';\r\n          } else if (doc._registeredFonts.hasOwnProperty(family)) {\r\n            fontOptions.fauxBold = true;\r\n            return family;\r\n          }\r\n        }\r\n        if (!bold && italic) {\r\n          if (doc._registeredFonts.hasOwnProperty(family + '-Italic')) {\r\n            return family + '-Italic';\r\n          } else if (doc._registeredFonts.hasOwnProperty(family)) {\r\n            fontOptions.fauxItalic = true;\r\n            return family;\r\n          }\r\n        }\r\n        if (!bold && !italic) {\r\n          if (doc._registeredFonts.hasOwnProperty(family)) {\r\n            return family;\r\n          }\r\n        }\r\n        // Use standard fonts as fallback\r\n        if (family.match(/(?:^|,)\\s*serif\\s*$/)) {\r\n          if (bold && italic) {return 'Times-BoldItalic';}\r\n          if (bold && !italic) {return 'Times-Bold';}\r\n          if (!bold && italic) {return 'Times-Italic';}\r\n          if (!bold && !italic) {return 'Times-Roman';}\r\n        } else if (family.match(/(?:^|,)\\s*monospace\\s*$/)) {\r\n          if (bold && italic) {return 'Courier-BoldOblique';}\r\n          if (bold && !italic) {return 'Courier-Bold';}\r\n          if (!bold && italic) {return 'Courier-Oblique';}\r\n          if (!bold && !italic) {return 'Courier';}\r\n        } else if (family.match(/(?:^|,)\\s*sans-serif\\s*$/) || true) {\r\n          if (bold && italic) {return 'Helvetica-BoldOblique';}\r\n          if (bold && !italic) {return 'Helvetica-Bold';}\r\n          if (!bold && italic) {return 'Helvetica-Oblique';}\r\n          if (!bold && !italic) {return 'Helvetica';}\r\n        }\r\n      };\r\n    }\r\n    if (typeof imageCallback !== 'function') {\r\n      imageCallback = function(link) {\r\n        return link.replace(/\\s+/g, '');\r\n      };\r\n    }\r\n    if (typeof colorCallback !== 'function') {\r\n      colorCallback = null;\r\n    } else {\r\n      for (let color in DefaultColors) {\r\n        let newColor = colorCallback(DefaultColors[color]);\r\n        DefaultColors[color][0] = newColor[0];\r\n        DefaultColors[color][1] = newColor[1];\r\n      }\r\n    }\r\n    if (typeof documentCallback !== 'function') {\r\n      documentCallback = null;\r\n    }\r\n\r\n    if (typeof svg === 'string') {svg = parseXml(svg);}\r\n    if (svg) {\r\n      let styles = svg.getElementsByTagName('style');\r\n      for (let i = 0; i < styles.length; i++) {\r\n        styleRules = styleRules.concat(parseStyleSheet(styles[i].textContent));\r\n      }\r\n      let elem = createSVGElement(svg, null);\r\n      if (typeof elem.drawInDocument === 'function') {\r\n        if (options.useCSS && !useCSS) {\r\n          warningCallback('SVGtoPDF: useCSS option can only be used for SVG *elements* in compatible browsers');\r\n        }\r\n        let savedFillColor = doc._fillColor;\r\n        doc.save().translate(x || 0, y || 0).scale(pxToPt);\r\n        elem.drawInDocument();\r\n        for (let i = 0; i < links.length; i++) {\r\n          doc.page.annotations.push(links[i]);\r\n        }\r\n        doc.restore();\r\n        doc._fillColor = savedFillColor;\r\n      } else {\r\n        warningCallback('SVGtoPDF: this element can\\'t be rendered directly: ' + svg.nodeName);\r\n      }\r\n    } else {\r\n      warningCallback('SVGtoPDF: the input does not look like a valid SVG');\r\n    }\r\n\r\n};\r\n\r\nif (typeof module !== 'undefined' && module && typeof module.exports !== 'undefined') {\r\n  module.exports = SVGtoPDF;\r\n}\r\n"],"names":["SVGtoPDF","doc","svg","x","y","options","NamedColors","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","DefaultColors","transparent","Entities","quot","amp","lt","gt","apos","OElig","oelig","Scaron","scaron","Yuml","circ","tilde","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","permil","lsaquo","rsaquo","euro","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","times","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","divide","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","fnof","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","bull","hellip","prime","Prime","oline","frasl","weierp","image","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","prop","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sub","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","lang","rang","loz","spades","clubs","hearts","diams","PathArguments","A","a","C","c","H","h","L","l","M","m","Q","q","S","s","T","t","V","v","Z","z","PathFlags","A3","A4","a3","a4","Properties","color","inherit","initial","undefined","visibility","values","hidden","collapse","visible","fill","stroke","nonzero","evenodd","miter","round","bevel","butt","square","small","medium","large","bold","bolder","normal","lighter","italic","oblique","start","middle","end","direction","ltr","rtl","auto","baseline","central","ideographic","alphabetic","hanging","mathematical","super","none","underline","overline","css","preserve","default","pre","nowrap","opacity","transform","display","inline","block","mask","overflow","scroll","docBeginGroup","bbox","group","name","_groupCount","resources","ref","xobj","Type","Subtype","FormType","BBox","Group","CS","I","K","Resources","write","savedMatrix","_ctm","savedPage","page","groupStack","push","width","height","data","fonts","xobjects","ext_gstates","patterns","docEndGroup","pop","Object","keys","length","Font","XObject","ExtGState","Pattern","docInsertGroup","addContent","docApplyMask","clip","_maskCount","gstate","CA","ca","BM","SMask","G","BC","docCreatePattern","dx","dy","matrix","pattern","docUsePattern","_patternCount","PatternType","PaintType","TilingType","XStep","YStep","Matrix","multiplyMatrix","ProcSet","temp","docSetTextMode","mode","docFillColor","constructor","fillOpacity","fillColor","docStrokeColor","strokeOpacity","strokeColor","parseXml","xml","SvgNode","tag","type","value","error","this","nodeName","nodeValue","nodeType","attributes","create","childNodes","parentNode","id","textContent","classList","prototype","getAttribute","attr","getElementById","result","recursive","node","i","getElementsByTagName","child","parser","StringParser","trim","match","decodeEntities","warningCallback","split","matchAll","str","replace","mt","m0","m1","m2","String","fromCharCode","parseInt","parseColor","raw","slice","parseFloat","colorCallback","opacityToColor","isMask","newColor","newOpacity","arguments","b","transformPoint","p","getGlobalMatrix","ctm","getPageBBox","SvgShape","inverseMatrix","getBoundingBox","dt","validateMatrix","validateNumber","m3","m4","m5","isNotEqual","solveEquation","curve","isEqual","d","Math","sqrt","getCurveValue","number","abs","n","parseTranform","temp2","func","nums","parser2","matchNumber","Number","matchSeparator","PI","cos","sin","parseAspectRatio","aspectRatio","availWidth","availHeight","elemWidth","elemHeight","initAlign","ratioType","xAlign","yAlign","scaleX","scaleY","Min","Mid","Max","max","min","parseStyleAttr","key","fontFamily","fontSize","fontStyle","fontWeight","fontVariant","parts","parseSelector","ids","classes","tags","specificity","parseStyleSheet","rule","rules","selectors","selector","matchesSelector","elem","indexOf","combineArrays","array1","array2","concat","getAscent","font","size","ascender","maxY","scale","getDescent","descender","minY","getTextPos","text","encoded","encode","hex","pos","unicode","charCodeAt","glyph","advanceWidth","xOffset","yOffset","xAdvance","yAdvance","createSVGElement","obj","inherits","SvgElemUse","SvgElemSymbol","SvgElemGroup","SvgElemLink","SvgElemSvg","SVGElemImage","SvgElemRect","SvgElemCircle","SvgElemEllipse","SvgElemLine","SvgElemPolyline","SvgElemPolygon","SvgElemPath","SvgElemText","SvgElemTspan","SvgElemTextPath","SvgElemTextNode","SvgElem","exp","all","index","substring","matchSpace","matchLengthUnit","BezierSegment","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","divisions","precision","equationX","equationY","derivativeX","derivativeY","lengthMap","totalLength","startPoint","atan2","endPoint","minX","maxX","rootsX","rootsY","getPointAtLength","l1","l2","LineSegment","r","pathCommands","pathSegments","lastCom","lastCtrlX","lastCtrlY","startX","startY","currX","currY","move","line","segment","close","addCommand","apply","hasStart","hasEnd","cx","cy","rx","ry","fi","fa","fs","x1","y1","x2","y2","th1","th2","segms","ceil","th3","th4","endX","endY","path","command","Infinity","bbox1","shift","j","mergeShape","shape","clone","insertInDocument","moveTo","lineTo","bezierCurveTo","closePath","getSubPaths","subPaths","getMarkers","markers","subPath","subPathMarkers","startMarker","prevEndMarker","endMarker","styleCache","childrenCache","isOuterElement","stack","style","useCSS","getComputedStyle","specificities","styleRules","getStyle","allowedChildren","resolveUrl","file","svgObj","documentCallback","svgs","documentCache","computeUnits","unit","percent","isFontSize","getViewport","em","ex","get","px","pt","cm","mm","in","pc","computeLength","temp1","computeLengthList","strict","getLength","getLengthList","getUrl","getNumberList","getViewbox","viewBox","getPercent","chooseValue","args","keyInfo","parsed","isNaN","object","fallbackColor","SvgElemGradient","SvgElemPattern","dasharray","getChildren","children","getParentVWidth","getVWidth","viewportWidth","getParentVHeight","getVHeight","viewportHeight","getParentViewport","getBoundingShape","SvgElemStylable","call","getTransformation","SvgElemClipPath","useMask","SvgElemMask","getFill","isClip","getPaint","getStroke","SvgElemHasChildren","childShape","drawChildren","drawInDocument","SvgElemContainer","drawContent","clipped","masked","save","restore","link","addLink","isText","w","url","Rect","Border","URI","links","docInsertLink","preserveAspectRatio","imageCallback","openImage","e","rect","translate","fallback","_attr","_getChildren","bBox","gOpacity","bBoxUnitsPattern","bBoxUnitsContent","aspectRatioMatrix","stopColor","grad","r2","bBoxUnits","spread","nAfter","nBefore","nTotal","pow","multiplier","inv","corner1","corner2","corner3","corner4","linearGradient","radialGradient","offset","inOrder","_colorSpace","stop","setTransform","SvgElemBasicShape","dashScale","lineWidth","lineCap","circle","dashArray","dashOffset","miterLimit","lineJoin","dash","phase","fillAndStroke","markerStart","markerMid","markerEnd","markersPos","SvgElemMarker","drawMarker","points","pathLength","posArray","strokeWidth","orient","units","rotate","refX","refY","SvgElemTextContainer","_pos","dx0","ascent","dy0","dx1","descent","dy1","dx2","dy2","drawTextInDocument","decorate","_font","fauxBold","childElem","skew","fauxItalic","f","linePosition","pathObject","pathScale","pathElem","textParentElem","currentAnchor","currentDirection","processedText","remainingText","textPaths","currentChunk","currentX","currentY","doAnchoring","last","first","anchordx","startltr","middleltr","endltr","startrtl","middlertl","endrtl","textOnPath","currentElem","textOffset","charMidX","pointOnPath","continuous","parentElem","_x","_y","_dx","_dy","_rot","_defRot","fontOptions","fontNameorLink","fontCallback","_index","textLength","spacingAndGlyphs","wordSpacing","letterSpacing","textAnchor","textDirection","xHeight","getXHeight","getBaseline","words","rawText","renderedText","xAttr","yAttr","dxAttr","dyAttr","rotAttr","position","firstChar","lastChar","textScale","spaceDiff","adjustLength","pxToPt","assumePt","SVGElement","console","warn","family","_registeredFonts","hasOwnProperty","styles","savedFillColor","_fillColor","annotations","module","exports"],"version":3,"file":"index.82d13b79.js.map"}